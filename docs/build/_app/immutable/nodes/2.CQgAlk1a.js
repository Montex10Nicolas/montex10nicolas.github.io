import{t as $,a as H,n as Z}from"../chunks/2dM6fKBs.js";import{b as j,d as ee,s as S,h as y,g as re,e as ae,f as A,i as te,H as se,r as D,j as k,k as I,m as ne,n as K,o as z,p as ie,I as C,q as F,t as O,v as le,w as fe,x as B,E as oe,y as ue,z as ce,A as ve,B as _e,C as de,D as pe,F as he,G as ge,L as xe,N as me,J as ye,K as Ee,M as Te,O as U,P,Q as V,R as Ae,S as L,T as Y,U as q,V as Ie,W as be}from"../chunks/CNBcO8sa.js";import{d as we,s as Me}from"../chunks/D4o4T_pt.js";function Ne(a,e){return e}function Se(a,e,r,o){for(var n=[],c=e.length,u=0;u<c;u++)ue(e[u].e,n,!0);var g=c>0&&n.length===0&&r!==null;if(g){var d=r.parentNode;ce(d),d.append(r),o.clear(),E(a,e[0].prev,e[c-1].next)}ve(n,()=>{for(var v=0;v<c;v++){var s=e[v];g||(o.delete(s.k),E(a,s.prev,s.next)),_e(s.e,!g)}})}function ke(a,e,r,o,n,c=null){var u=a,g={flags:e,items:new Map,first:null};{var d=a;u=y?S(re(d)):d.appendChild(j())}y&&ae();var v=null,s=!1,_=te(()=>{var t=r();return ge(t)?t:t==null?[]:F(t)});ee(()=>{var t=A(_),i=t.length;if(s&&i===0)return;s=i===0;let l=!1;if(y){var h=u.data===se;h!==(i===0)&&(u=D(),S(u),k(!1),l=!0)}if(y){for(var x=null,f,p=0;p<i;p++){if(I.nodeType===8&&I.data===ne){u=I,l=!0,k(!1);break}var b=t[p],T=o(b,p);f=Q(I,g,x,null,b,T,p,n,e,r),g.items.set(T,f),x=f}i>0&&S(D())}y||Ce(t,g,u,n,e,o,r),c!==null&&(i===0?v?K(v):v=z(()=>c(u)):v!==null&&ie(v,()=>{v=null})),l&&k(!0),A(_)}),y&&(u=I)}function Ce(a,e,r,o,n,c,u){var g=a.length,d=e.items,v=e.first,s=v,_,t=null,i=[],l=[],h,x,f,p;for(p=0;p<g;p+=1){if(h=a[p],x=c(h,p),f=d.get(x),f===void 0){var b=s?s.e.nodes_start:r;t=Q(b,e,t,t===null?e.first:t.next,h,x,p,o,n,u),d.set(x,t),i=[],l=[],s=t.next;continue}if(Le(f,h,p),(f.e.f&C)!==0&&K(f.e),f!==s){if(_!==void 0&&_.has(f)){if(i.length<l.length){var T=l[0],m;t=T.prev;var R=i[0],M=i[i.length-1];for(m=0;m<i.length;m+=1)G(i[m],T,r);for(m=0;m<l.length;m+=1)_.delete(l[m]);E(e,R.prev,M.next),E(e,t,R),E(e,M,T),s=T,t=M,p-=1,i=[],l=[]}else _.delete(f),G(f,s,r),E(e,f.prev,f.next),E(e,f,t===null?e.first:t.next),E(e,t,f),t=f;continue}for(i=[],l=[];s!==null&&s.k!==x;)(s.e.f&C)===0&&(_??(_=new Set)).add(s),l.push(s),s=s.next;if(s===null)continue;f=s}i.push(f),t=f,s=f.next}if(s!==null||_!==void 0){for(var N=_===void 0?[]:F(_);s!==null;)(s.e.f&C)===0&&N.push(s),s=s.next;var W=N.length;if(W>0){var X=g===0?r:null;Se(e,N,X,d)}}O.first=e.first&&e.first.e,O.last=t&&t.e}function Le(a,e,r,o){le(a.v,e),a.i=r}function Q(a,e,r,o,n,c,u,g,d,v){var s=(d&de)!==0,_=(d&pe)===0,t=s?_?fe(n):B(n):n,i=(d&oe)===0?u:B(u),l={i,v:t,k:c,a:null,e:null,prev:r,next:o};try{return l.e=z(()=>g(a,t,i,v),y),l.e.prev=r&&r.e,l.e.next=o&&o.e,r===null?e.first=l:(r.next=l,r.e.next=l.e),o!==null&&(o.prev=l,o.e.prev=l.e),l}finally{}}function G(a,e,r){for(var o=a.next?a.next.e.nodes_start:r,n=e?e.e.nodes_start:r,c=a.e.nodes_start;c!==o;){var u=he(c);n.before(c),c=u}}function E(a,e,r){e===null?a.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}const Re=Symbol("is custom element"),He=Symbol("is html");function w(a,e,r,o){var n=De(a);y&&(n[e]=a.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&a.nodeName==="LINK")||n[e]!==(n[e]=r)&&(e==="loading"&&(a[xe]=r),r==null?a.removeAttribute(e):typeof r!="string"&&Oe(a).includes(e)?a[e]=r:a.setAttribute(e,r))}function De(a){return a.__attributes??(a.__attributes={[Re]:a.nodeName.includes("-"),[He]:a.namespaceURI===me})}var J=new Map;function Oe(a){var e=J.get(a.nodeName);if(e)return e;J.set(a.nodeName,e=[]);for(var r,o=a,n=Element.prototype;n!==o;){r=Ee(o);for(var c in r)r[c].set&&e.push(c);o=ye(o)}return e}var Be=Z('<rect width="20px" y="5"></rect><text width="20px" y="100px" height="80px" fill="blue" class="text-sm italic"> </text>'),Ue=$('<button class="cursor-pointer rounded-sm border px-4 py-1">Sort</button> <svg class="p-2" viewBox="0 0 1000 100"></svg>',1);function qe(a,e){Te(e,!0);const o=[...new Array(7)].map(()=>Math.round(Math.random()*100));let n=U(o),c=P(U([-1,-1])),u=P(!1);function g(){let _=0;for(let t=0;t<n.length-1;t++)for(let i=t+1;i<n.length;i++){const l=t,h=i,x=++_;setTimeout(()=>{L(c,[l,h],!0),n[t]>n[i]&&setTimeout(()=>{L(u,!0),setTimeout(()=>{const f=n[l];n[l]=n[h],n[h]=f,L(u,!1)},300)},300)},800*x)}}var d=Ue(),v=V(d);v.__click=g;var s=Y(v,2);ke(s,21,()=>n,Ne,(_,t,i)=>{var l=Be(),h=V(l);w(h,"x",i*25+"px");var x=Y(h);w(x,"x",i*25+"px");var f=Ie(x,!0);q(x),be(p=>{w(h,"height",`${A(t)}px`),w(h,"fill",p),Me(f,A(t))},[()=>A(c).includes(i)?A(u)?"blue":"green":"black"]),H(_,l)}),q(s),H(a,d),Ae()}we(["click"]);export{qe as component};
