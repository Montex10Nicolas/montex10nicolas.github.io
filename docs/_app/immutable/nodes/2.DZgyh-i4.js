import{t as ve,b as X,n as _e}from"../chunks/Div0LWFH.js";import{s as z,b as J,e as de,f as G,y as he,D as pe,n as $,A as k,h as me,o as ge,O as u,X as be,Y as ye,Z as K,m as V,p as D,q as Ee,_ as re,z as te,$ as xe,a0 as B,w as se,a1 as Te,a2 as Ae,a3 as W,a4 as ke,a5 as we,v as Ie,a6 as Me,G as Se,a7 as Ne,a8 as Le,j as Ce,i as De,a9 as Re,aa as He,ab as Oe,ac as $e,ad as Ve,ae as Be,a as Pe,af as Ue,B as Ye,u as qe,ag as R,ah as P,I as Ge,U,W as C,S as Z,C as Xe,ai as A,V as O,aj as ze}from"../chunks/BcDse66A.js";import{d as Je,s as Ke}from"../chunks/BXHD8XsT.js";let F=!1;function ne(){F||(F=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var a;if(!e.defaultPrevented)for(const r of e.target.elements)(a=r.__on_r)==null||a.call(r)})},{capture:!0}))}function We(e){var a=de,r=G;z(null),J(null);try{return e()}finally{z(a),J(r)}}function Ze(e,a,r,l=r){e.addEventListener(a,()=>We(r));const n=e.__on_r;n?e.__on_r=()=>{n(),l(!0)}:e.__on_r=()=>l(!0),ne()}function Fe(e,a){return a}function Qe(e,a,r,l){for(var n=[],t=a.length,f=0;f<t;f++)we(a[f].e,n,!0);var _=t>0&&n.length===0&&r!==null;if(_){var h=r.parentNode;Ie(h),h.append(r),l.clear(),S(e,a[0].prev,a[t-1].next)}Me(n,()=>{for(var d=0;d<t;d++){var s=a[d];_||(l.delete(s.k),S(e,s.prev,s.next)),Se(s.e,!_)}})}function je(e,a,r,l,n,t=null){var f=e,_={flags:a,items:new Map,first:null};{var h=e;f=k?$(me(h)):h.appendChild(he())}k&&ge();var d=null,s=!1,b=be(()=>{var i=r();return De(i)?i:i==null?[]:se(i)});pe(()=>{var i=u(b),c=i.length;if(s&&c===0)return;s=c===0;let o=!1;if(k){var E=f.data===ye;E!==(c===0)&&(f=K(),$(f),V(!1),o=!0)}if(k){for(var y=null,v,m=0;m<c;m++){if(D.nodeType===8&&D.data===Ee){f=D,o=!0,V(!1);break}var N=i[m],x=l(N,m);v=le(D,_,y,null,N,x,m,n,a,r),_.items.set(x,v),y=v}c>0&&$(K())}k||ea(i,_,f,n,a,l,r),t!==null&&(c===0?d?re(d):d=te(()=>t(f)):d!==null&&xe(d,()=>{d=null})),o&&V(!0),u(b)}),k&&(f=D)}function ea(e,a,r,l,n,t,f){var _=e.length,h=a.items,d=a.first,s=d,b,i=null,c=[],o=[],E,y,v,m;for(m=0;m<_;m+=1){if(E=e[m],y=t(E,m),v=h.get(y),v===void 0){var N=s?s.e.nodes_start:r;i=le(N,a,i,i===null?a.first:i.next,E,y,m,l,n,f),h.set(y,i),c=[],o=[],s=i.next;continue}if(aa(v,E,m),(v.e.f&B)!==0&&re(v.e),v!==s){if(b!==void 0&&b.has(v)){if(c.length<o.length){var x=o[0],p;i=x.prev;var I=c[0],T=c[c.length-1];for(p=0;p<c.length;p+=1)Q(c[p],x,r);for(p=0;p<o.length;p+=1)b.delete(o[p]);S(a,I.prev,T.next),S(a,i,I),S(a,T,x),s=x,i=T,m-=1,c=[],o=[]}else b.delete(v),Q(v,s,r),S(a,v.prev,v.next),S(a,v,i===null?a.first:i.next),S(a,i,v),i=v;continue}for(c=[],o=[];s!==null&&s.k!==y;)(s.e.f&B)===0&&(b??(b=new Set)).add(s),o.push(s),s=s.next;if(s===null)continue;v=s}c.push(v),i=v,s=v.next}if(s!==null||b!==void 0){for(var g=b===void 0?[]:se(b);s!==null;)(s.e.f&B)===0&&g.push(s),s=s.next;var w=g.length;if(w>0){var M=_===0?r:null;Qe(a,g,M,h)}}G.first=a.first&&a.first.e,G.last=i&&i.e}function aa(e,a,r,l){Te(e.v,a),e.i=r}function le(e,a,r,l,n,t,f,_,h,d){var s=(h&Ne)!==0,b=(h&Le)===0,i=s?b?Ae(n):W(n):n,c=(h&ke)===0?f:W(f),o={i:c,v:i,k:t,a:null,e:null,prev:r,next:l};try{return o.e=te(()=>_(e,i,c,d),k),o.e.prev=r&&r.e,o.e.next=l&&l.e,r===null?a.first=o:(r.next=o,r.e.next=o.e),l!==null&&(l.prev=o,l.e.prev=o.e),o}finally{}}function Q(e,a,r){for(var l=e.next?e.next.e.nodes_start:r,n=a?a.e.nodes_start:r,t=e.e.nodes_start;t!==l;){var f=Ce(t);n.before(t),t=f}}function S(e,a,r){a===null?e.first=r:(a.next=r,a.e.next=r&&r.e),r!==null&&(r.prev=a,r.e.prev=a&&a.e)}const ra=Symbol("is custom element"),ta=Symbol("is html");function j(e){if(k){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var l=e.value;L(e,"value",null),e.value=l}if(e.hasAttribute("checked")){var n=e.checked;L(e,"checked",null),e.checked=n}}};e.__on_r=r,Re(r),ne()}}function L(e,a,r,l){var n=sa(e);k&&(n[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||n[a]!==(n[a]=r)&&(a==="loading"&&(e[He]=r),r==null?e.removeAttribute(a):typeof r!="string"&&na(e).includes(a)?e[a]=r:e.setAttribute(a,r))}function sa(e){return e.__attributes??(e.__attributes={[ra]:e.nodeName.includes("-"),[ta]:e.namespaceURI===Oe})}var ee=new Map;function na(e){var a=ee.get(e.nodeName);if(a)return a;ee.set(e.nodeName,a=[]);for(var r,l=e,n=Element.prototype;n!==l;){r=Ve(l);for(var t in r)r[t].set&&a.push(t);l=$e(l)}return a}function ae(e,a,r=a){var l=Be();Ze(e,"input",n=>{var t=n?e.defaultValue:e.value;if(t=Y(e)?q(t):t,r(t),l&&t!==(t=a())){var f=e.selectionStart,_=e.selectionEnd;e.value=t??"",_!==null&&(e.selectionStart=f,e.selectionEnd=Math.min(_,e.value.length))}}),(k&&e.defaultValue!==e.value||Pe(a)==null&&e.value)&&r(Y(e)?q(e.value):e.value),Ue(()=>{var n=a();Y(e)&&n===q(e.value)||e.type==="date"&&!n&&!e.value||n!==e.value&&(e.value=n??"")})}function Y(e){var a=e.type;return a==="number"||a==="range"}function q(e){return e===""?null:+e}var la=_e('<rect stroke="gold" stroke-width="0.8px"></rect>'),ia=ve('<div class="m-2 flex gap-8"><button class="cursor-pointer rounded-sm border px-4 py-1 disabled:cursor-default">Sort</button> <label><p>Number of elements</p> <input type="range" min="5" max="100" step="5" class="cursor-pointer"> </label> <label><p>Duration</p> <input type="number" min="10" step="5" max="3000"></label></div> <svg class="m-2" viewBox="0 0 1000 100"></svg>',1);function ca(e,a){Ye(a,!0);let r=R(10);const l=()=>[...new Array(u(r))].map(()=>Math.round(Math.random()*100)),n=l();qe(()=>{A(t,l(),!0)});let t=R(P(n)),f=R(P([-1,-1])),_=R(!1),h=P([]),d=R(100);function s(){for(let p of h)clearTimeout(p);A(f,[-1,-1],!0),A(_,!1)}function b(){s();let p=0;const I=Math.floor(u(d)/3)*2,T=(u(d)-I)/2;for(let g=0;g<u(t).length-1;g++)for(let w=g+1;w<u(t).length;w++){const M=g,H=w,ie=++p,fe=setTimeout(()=>{if(A(f,[M,H],!0),u(t)[g]>u(t)[w]){const oe=setTimeout(()=>{A(f,[M,H],!0),A(_,!0);const ue=setTimeout(()=>{const ce=u(t)[M];u(t)[M]=u(t)[H],u(t)[H]=ce,A(_,!1),setTimeout(()=>{A(f,[-1,-1],!0)},T*.5)},T);h.push(ue)},T*2);h.push(oe)}},I*ie);h.push(fe)}}var i=ia(),c=Ge(i),o=U(c);o.__click=b;var E=C(o,2),y=C(U(E),2);j(y),y.__change=s;var v=C(y);O(E);var m=C(E,2),N=C(U(m),2);j(N),O(m),O(c);var x=C(c,2);je(x,21,()=>u(t),Fe,(p,I,T)=>{var g=la();const w=ze(()=>800/u(r));Z(M=>{L(g,"width",`${u(w)??""}px`),L(g,"y",`${100-u(I)}px`),L(g,"x",`${u(w)*T+.1}px`),L(g,"height",`${u(I)}px`),L(g,"fill",M)},[()=>u(f).includes(T)?u(_)?"blue":"green":"black"]),X(p,g)}),O(x),Z(()=>{o.disabled=u(d)<10,Ke(v,` ${u(r)??""}`)}),ae(y,()=>u(r),p=>A(r,p)),ae(N,()=>u(d),p=>A(d,p)),X(e,i),Xe()}Je(["click","change"]);export{ca as component};
