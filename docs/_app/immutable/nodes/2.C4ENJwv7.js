var ke=e=>{throw TypeError(e)};var Ce=(e,a,t)=>a.has(e)||ke("Cannot "+t);var oe=(e,a,t)=>(Ce(e,a,"read from private field"),t?t.call(e):a.get(e)),ce=(e,a,t)=>a.has(e)?ke("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(e):a.set(e,t),fe=(e,a,t,s)=>(Ce(e,a,"write to private field"),s?s.call(e,t):a.set(e,t),t);import{c as ea,a as ve,t as aa,n as ta}from"../chunks/CIrX0YnA.js";import{s as _e,h as H,w as na,v as ra,d as sa,b as ua,C as n,a7 as la,e as ia,r as Ae,f as de,j as J,_ as oa,g as Ge,i as Le,p as ca,a2 as qe,W as fa,ac as va,am as xe,an as pe,y as Me,ao as _a,ap as da,aq as pa,a1 as ba,ar as ha,o as ma,as as xa,at as ga,Y as ya,au as wa,av as Ia,aw as Ta,ax as Sa,ay as Na,az as Ea,a as Ke,m as Pe,k as We,aA as ka,ab as p,aB as Ca,ak as Aa,J as Ma,aj as E,aa as F,u as Ua,t as Ue,L as Ba,M as W,O as k,N as R,K as Be,aC as be,al as He}from"../chunks/r6qOVdxW.js";import{a as Ha,l as De,o as $e,d as Oa,s as Ra}from"../chunks/acNrIaOk.js";import{i as Ga,b as La}from"../chunks/Di7byUH0.js";function qa(e,a){return a}function Ka(e,a,t,s){for(var u=[],c=a.length,b=0;b<c;b++)pa(a[b].e,u,!0);var y=c>0&&u.length===0&&t!==null;if(y){var I=t.parentNode;ba(I),I.append(t),s.clear(),G(e,a[0].prev,a[c-1].next)}ha(u,()=>{for(var w=0;w<c;w++){var _=a[w];y||(s.delete(_.k),G(e,_.prev,_.next)),ma(_.e,!y)}})}function Pa(e,a,t,s,u,c=null){var b=e,y={flags:a,items:new Map,first:null};{var I=e;b=H?_e(na(I)):I.appendChild(ra())}H&&sa();var w=null,_=!1,T=la(()=>{var o=t();return fa(o)?o:o==null?[]:qe(o)});ua(()=>{var o=n(T),x=o.length;if(_&&x===0)return;_=x===0;let g=!1;if(H){var N=b.data===ia;N!==(x===0)&&(b=Ae(),_e(b),de(!1),g=!0)}if(H){for(var C=null,m,S=0;S<x;S++){if(J.nodeType===8&&J.data===oa){b=J,g=!0,de(!1);break}var O=o[S],U=s(O,S);m=Qe(J,y,C,null,O,U,S,u,a,t),y.items.set(U,m),C=m}x>0&&_e(Ae())}H||Wa(o,y,b,u,a,s,t),c!==null&&(x===0?w?Ge(w):w=Le(()=>c(b)):w!==null&&ca(w,()=>{w=null})),g&&de(!0),n(T)}),H&&(b=J)}function Wa(e,a,t,s,u,c,b){var y=e.length,I=a.items,w=a.first,_=w,T,o=null,x=[],g=[],N,C,m,S;for(S=0;S<y;S+=1){if(N=e[S],C=c(N,S),m=I.get(C),m===void 0){var O=_?_.e.nodes_start:t;o=Qe(O,a,o,o===null?a.first:o.next,N,C,S,s,u,b),I.set(C,o),x=[],g=[],_=o.next;continue}if(Da(m,N,S),(m.e.f&pe)!==0&&Ge(m.e),m!==_){if(T!==void 0&&T.has(m)){if(x.length<g.length){var U=g[0],M;o=U.prev;var ee=x[0],Q=x[x.length-1];for(M=0;M<x.length;M+=1)Oe(x[M],U,t);for(M=0;M<g.length;M+=1)T.delete(g[M]);G(a,ee.prev,Q.next),G(a,o,ee),G(a,Q,U),_=U,o=Q,S-=1,x=[],g=[]}else T.delete(m),Oe(m,_,t),G(a,m.prev,m.next),G(a,m,o===null?a.first:o.next),G(a,o,m),o=m;continue}for(x=[],g=[];_!==null&&_.k!==C;)(_.e.f&pe)===0&&(T??(T=new Set)).add(_),g.push(_),_=_.next;if(_===null)continue;m=_}x.push(m),o=m,_=m.next}if(_!==null||T!==void 0){for(var q=T===void 0?[]:qe(T);_!==null;)(_.e.f&pe)===0&&q.push(_),_=_.next;var ue=q.length;if(ue>0){var V=y===0?t:null;Ka(a,q,V,I)}}Me.first=a.first&&a.first.e,Me.last=o&&o.e}function Da(e,a,t,s){da(e.v,a),e.i=t}function Qe(e,a,t,s,u,c,b,y,I,w){var _=(I&xa)!==0,T=(I&ga)===0,o=_?T?va(u):xe(u):u,x=(I&_a)===0?b:xe(b),g={i:x,v:o,k:c,a:null,e:null,prev:t,next:s};try{return g.e=Le(()=>y(e,o,x,w),H),g.e.prev=t&&t.e,g.e.next=s&&s.e,t===null?a.first=g:(t.next=g,t.e.next=g.e),s!==null&&(s.prev=g,s.e.prev=g.e),g}finally{}}function Oe(e,a,t){for(var s=e.next?e.next.e.nodes_start:t,u=a?a.e.nodes_start:t,c=e.e.nodes_start;c!==s;){var b=ya(c);u.before(c),c=b}}function G(e,a,t){a===null?e.first=t:(a.next=t,a.e.next=t&&t.e),t!==null&&(t.prev=a,t.e.prev=a&&a.e)}const $a=Symbol("is custom element"),Qa=Symbol("is html");function re(e){if(H){var a=!1,t=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var s=e.value;L(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var u=e.checked;L(e,"checked",null),e.checked=u}}};e.__on_r=t,wa(t),Ha()}}function L(e,a,t,s){var u=Va(e);H&&(u[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||u[a]!==(u[a]=t)&&(a==="loading"&&(e[Sa]=t),t==null?e.removeAttribute(a):typeof t!="string"&&za(e).includes(a)?e[a]=t:e.setAttribute(a,t))}function Va(e){return e.__attributes??(e.__attributes={[$a]:e.nodeName.includes("-"),[Qa]:e.namespaceURI===Ia})}var Re=new Map;function za(e){var a=Re.get(e.nodeName);if(a)return a;Re.set(e.nodeName,a=[]);for(var t,s=e,u=Element.prototype;u!==s;){t=Na(s);for(var c in t)t[c].set&&a.push(c);s=Ta(s)}return a}function se(e,a,t=a){var s=Ea();De(e,"input",u=>{var c=u?e.defaultValue:e.value;if(c=he(e)?me(c):c,t(c),s&&c!==(c=a())){var b=e.selectionStart,y=e.selectionEnd;e.value=c??"",y!==null&&(e.selectionStart=b,e.selectionEnd=Math.min(y,e.value.length))}}),(H&&e.defaultValue!==e.value||Ke(a)==null&&e.value)&&t(he(e)?me(e.value):e.value),Pe(()=>{var u=a();he(e)&&u===me(e.value)||e.type==="date"&&!u&&!e.value||u!==e.value&&(e.value=u??"")})}function he(e){var a=e.type;return a==="number"||a==="range"}function me(e){return e===""?null:+e}function Ve(e,a,t){if(e.multiple)return Fa(e,a);for(var s of e.options){var u=X(s);if(ka(u,a)){s.selected=!0;return}}(!t||a!==void 0)&&(e.selectedIndex=-1)}function Ya(e,a){We(()=>{var t=new MutationObserver(()=>{var s=e.__value;Ve(e,s)});return t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{t.disconnect()}})}function Ja(e,a,t=a){var s=!0;De(e,"change",u=>{var c=u?"[selected]":":checked",b;if(e.multiple)b=[].map.call(e.querySelectorAll(c),X);else{var y=e.querySelector(c)??e.querySelector("option:not([disabled])");b=y&&X(y)}t(b)}),We(()=>{var u=a();if(Ve(e,u,s),s&&u===void 0){var c=e.querySelector(":checked");c!==null&&(u=X(c),t(u))}e.__value=u,s=!1}),Ya(e)}function Fa(e,a){for(var t of e.options)t.selected=~a.indexOf(X(t))}function X(e){return"__value"in e?e.__value:e.value}function Xa(e){p(e,e.v+1)}function Za(e){let a=0,t=xe(0),s;return()=>{Ca()&&(n(t),Pe(()=>(a===0&&(s=Ke(()=>e(()=>Xa(t)))),a+=1,()=>{Aa().then(()=>{a-=1,a===0&&(s==null||s(),s=void 0)})})))}}var Z,j;class ze{constructor(a,t){ce(this,Z);ce(this,j);fe(this,Z,a),fe(this,j,Za(t))}get current(){return oe(this,j).call(this),oe(this,Z).call(this)}}Z=new WeakMap,j=new WeakMap;const ja=new ze(()=>window.innerWidth,e=>$e(window,"resize",e)),et=new ze(()=>window.innerHeight,e=>$e(window,"resize",e));var at=async function(e,a,t,s,u,c,b,y,I,w){switch(p(a,[...n(t)],!0),p(s,!0),n(u)){case"BUBBLE":await c();break;case"MERGE":await b([...n(t)],0,n(t).length);break;case"QUICK":await y([...n(t)]);break;case"INSERTION":await I([...n(t)])}await w()},tt=(e,a,t,s,u,c)=>{a(),p(t,n(s),!0),p(u,!1),p(c,[-1,-1],!0)},nt=ta('<rect stroke="gold" stroke-width="0.8px"></rect>'),rt=aa('<div class="flex w-screen grow items-center justify-around gap-8 px-4 py-2"><button class="w-full cursor-pointer rounded-sm border bg-amber-200 px-4 py-1 font-bold uppercase disabled:cursor-default disabled:bg-transparent">Sort</button> <button class="w-full cursor-pointer rounded-sm border bg-red-300 px-4 py-1 text-sm font-bold uppercase disabled:cursor-default disabled:opacity-40">New Data</button> <button class="w-full cursor-pointer rounded-sm border bg-amber-300 px-4 py-1 text-sm font-bold uppercase disabled:cursor-default disabled:opacity-40">Unsort</button> <label class="w-full"><p>Number of elements:</p> <input type="text" class="flex-grow-0 cursor-pointer appearance-none border-none font-bold"> <input type="range" min="5" max="100" step="5" class="w-full cursor-pointer"></label> <label class="w-full"><p>Duration</p> <input class="w-full" type="number" min="10" step="5" max="3000"></label> <label class="w-full"><p>Max</p> <input class="w-full" type="number" min="10" step="5" max="500"></label> <select class="cursor-pointer [&amp;_*]:text-yellow-600"><option>Bubblesort</option><option>Mergesort</option><option>Quicksort</option><option>Insertionsort</option></select> <p class="flex gap-2">Steps: <span class="max-w-fit font-bold tabular-nums"> </span></p></div> <svg class="m-2"></svg>',1);function ct(e,a){Ma(a,!0);let t=E(100),s=E(500),u=E(10),c=E("INSERTION"),b=E(0),y=E(0),I=E(void 0),w=E(0),_=E(0),T=E(0),o=E(F([])),x=F([]);const g=r=>[...new Array(r)].map(()=>{const l=Math.max(Math.round(Math.random()*199999999)%n(s),1);return n(_)<l&&p(_,l,!0),l});let N=E(F(g(n(t)))),C=E(F([-1,-1])),m=E(!1),S=E(F([])),O=E(!1);Ua(function(){p(b,et.current,!0),p(y,ja.current,!0),n(I)&&n(b)&&p(w,n(b)-n(I).getBoundingClientRect().y)});function U(){p(o,[],!0);for(let r of x)clearTimeout(r)}function M(){p(S,[],!0),p(C,[-1,-1],!0),p(m,!1),U(),p(N,g(n(t)),!0),p(O,!1),p(T,0)}async function ee(){p(T,0);const r=[...n(o)].reverse();let l=r.pop(),i=1;for(;l!=null;){const h=l;let d=i;const v=setTimeout(()=>{be(T);const{operation:K,index_b:P,index_a:B,value_a:ae}=h;switch(K){case"CHECKING":p(C,[B,P],!0);break;case"SWAPPING":p(m,!0),p(C,[B,P],!0);const z=setTimeout(()=>{be(T);const D=n(N)[B];n(N)[B]=n(N)[P],n(N)[P]=D;const Y=setTimeout(()=>{p(m,!1)},n(u)*.5);x.push(Y)},n(u)*.2);x.push(z);break;case"SUBSTITUTION":const te=setTimeout(()=>{be(T),B!==void 0&&(n(N)[B]=ae)},n(u)*.2);x.push(te);break}},n(u)*d);x.push(v),l=r.pop(),i++}const f=setTimeout(()=>{p(O,!1),p(C,[-1,-1],!0)},n(u)*i+2);x.push(f),p(o,[],!0)}async function Q(){const r=[...n(N)];for(let l=0;l<r.length-1;l++)for(let i=l+1;i<r.length;i++){const f=l,h=i;if(n(o).push({operation:"CHECKING",index_a:f,index_b:h,value_a:r[l],value_b:r[i]}),r[l]>r[i]){const d=r[f];r[f]=r[h],r[h]=d,n(o).push({operation:"SWAPPING",index_a:f,index_b:h,value_a:r[l],value_b:r[i]})}}}async function q(r,l,i){if(l>=i){const v=r[l];return v?[v]:[]}const f=Math.floor((l+i)/2),h=await q(r,l,f),d=await q(r,f+1,i);return await ue(h,d,l,i)}async function ue(r,l,i,f){const h=[];let d=0,v=0;for(;d<r.length&&v<l.length;)n(o).push({operation:"CHECKING",index_a:i+d,index_b:f-v,value_a:r[d],value_b:l[v]}),r[d]>l[v]?(n(o).push({operation:"SUBSTITUTION",index_a:i+d+v,index_b:i+d+v,value_a:l[v],value_b:l[v]}),h.push(l[v]),v++):(n(o).push({operation:"SUBSTITUTION",index_a:i+v+d,index_b:i+v+d,value_a:r[d],value_b:r[d]}),h.push(r[d]),d++);for(;d<r.length;)n(o).push({operation:"SUBSTITUTION",index_a:i+v+d,index_b:i+v+d,value_a:r[d],value_b:r[d]}),h.push(r[d]),d++;for(;v<l.length;)n(o).push({operation:"SUBSTITUTION",index_a:i+v+d,index_b:i+v+d,value_a:l[v],value_b:l[v]}),h.push(l[v]),v++;return h}async function V(r,l=0,i=r.length-1){if(l>=i||l<0)return;let f=await Ye(r,l,i);await V(r,l,f-1),await V(r,f+1,i)}async function Ye(r,l,i){const f=r[i];let h=l;n(o).push({operation:"CHECKING",index_a:i,index_b:-1,value_a:f,value_b:-1});for(let v=l;v<=i-1;v++)if(n(o).push({operation:"CHECKING",index_a:i,index_b:v,value_a:f,value_b:r[v]}),r[v]<=f){if(v!==h){n(o).push({operation:"SWAPPING",index_a:h,index_b:v,value_a:r[h],value_b:r[v]});const K=r[v];r[v]=r[h],r[h]=K}h++}if(i===h)return h;const d=r[i];return r[i]=r[h],r[h]=d,n(o).push({operation:"SWAPPING",index_a:i,index_b:h,value_a:f,value_b:r[h]}),h}async function ge(r,l=r.length-1){if(l<=0)return;ge(r,l-1);const i=r[l];let f=l-1;for(n(o).push({operation:"CHECKING",index_a:f,index_b:l,value_a:r[f],value_b:i});f>=0&&r[f]>i;)n(o).push({operation:"CHECKING",index_a:f,index_b:l,value_a:r[f],value_b:i}),n(o).push({operation:"SUBSTITUTION",index_a:f+1,index_b:f+1,value_a:r[f],value_b:r[f]}),r[f+1]=r[f],f=f-1;n(o).push({operation:"SUBSTITUTION",index_a:f+1,index_b:f+1,value_a:i,value_b:i}),r[f+1]=i}var ye=ea(),Je=Ue(ye);{var Fe=r=>{var l=rt(),i=Ue(l),f=W(i);f.__click=[at,S,N,O,c,Q,q,V,ge,ee];var h=k(f,2);h.__click=M;var d=k(h,2);d.__click=[tt,U,N,S,m,C];var v=k(d,2),K=k(W(v),2);re(K);var P=k(K,2);re(P),R(v);var B=k(v,2),ae=k(W(B),2);re(ae),R(B);var z=k(B,2),te=k(W(z),2);re(te),R(z);var D=k(z,2),Y=W(D);Y.value=Y.__value="BUBBLE";var le=k(Y);le.value=le.__value="MERGE";var ie=k(le);ie.value=ie.__value="QUICK";var we=k(ie);we.value=we.__value="INSERTION",R(D);var Ie=k(D,2),Te=k(W(Ie)),Xe=W(Te,!0);R(Te),R(Ie),R(i);var ne=k(i,2);Pa(ne,21,()=>n(N),qa,(A,Ze,Se)=>{var $=nt();const Ne=He(()=>n(y)/n(t)),Ee=He(()=>n(w)/100*Math.floor(n(Ze)/n(_)*100));Be(je=>{L($,"width",`${n(Ne)??""}px`),L($,"y",`${n(w)-n(Ee)}px`),L($,"x",`${n(Ne)*Se+.1}px`),L($,"height",`${n(Ee)}px`),L($,"fill",je)},[()=>n(C).includes(Se)?n(m)?"blue":"green":"black"]),ve(A,$)}),R(ne),La(ne,A=>p(I,A),()=>n(I)),Be(()=>{f.disabled=n(u)<10||n(s)>500||n(s)<=0||n(O),Ra(Xe,n(T)),L(ne,"viewBox",`0 0 ${n(y)??""} ${n(w)??""}`)}),se(K,()=>n(t),A=>p(t,A)),se(P,()=>n(t),A=>{p(t,A,!0),M()}),se(ae,()=>n(u),A=>{p(u,A,!0)}),se(te,()=>n(s),A=>{p(_,0),p(s,A,!0)}),Ja(D,()=>n(c),A=>p(c,A)),ve(r,l)};Ga(Je,r=>{r(Fe)})}ve(e,ye),Ba()}Oa(["click"]);export{ct as component};
