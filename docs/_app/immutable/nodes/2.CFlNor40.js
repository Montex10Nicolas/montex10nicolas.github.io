var Te=e=>{throw TypeError(e)};var Ee=(e,a,r)=>a.has(e)||Te("Cannot "+r);var re=(e,a,r)=>(Ee(e,a,"read from private field"),r?r.call(e):a.get(e)),te=(e,a,r)=>a.has(e)?Te("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(e):a.set(e,r),ne=(e,a,r,n)=>(Ee(e,a,"write to private field"),n?n.call(e,r):a.set(e,r),r);import{c as Je,a as se,t as Fe,n as Xe}from"../chunks/CIrX0YnA.js";import{s as le,h as H,w as Qe,v as Ze,d as je,b as ea,C as t,a7 as aa,e as ra,r as Se,f as ie,j as P,_ as ta,g as He,i as Re,p as na,a2 as Le,W as sa,ac as la,am as de,an as ue,y as ke,ao as ia,ap as ua,aq as oa,a1 as fa,ar as va,o as ca,as as _a,at as da,Y as pa,au as ha,av as ba,aw as ma,ax as ga,ay as xa,az as ya,a as Oe,m as qe,k as Ge,aA as wa,ab as g,aB as Ta,ak as Ea,J as Sa,aj as I,aa as Z,u as Ie,t as Ne,L as ka,M as L,O as A,N as U,K as Me,aC as oe,al as Ae}from"../chunks/r6qOVdxW.js";import{a as Ia,l as De,o as We,d as Na,s as Be}from"../chunks/acNrIaOk.js";import{i as Ma,b as Aa}from"../chunks/Di7byUH0.js";function Ba(e,a){return a}function Ca(e,a,r,n){for(var s=[],l=a.length,f=0;f<l;f++)oa(a[f].e,s,!0);var m=l>0&&s.length===0&&r!==null;if(m){var w=r.parentNode;fa(w),w.append(r),n.clear(),O(e,a[0].prev,a[l-1].next)}va(s,()=>{for(var x=0;x<l;x++){var o=a[x];m||(n.delete(o.k),O(e,o.prev,o.next)),ca(o.e,!m)}})}function Ua(e,a,r,n,s,l=null){var f=e,m={flags:a,items:new Map,first:null};{var w=e;f=H?le(Qe(w)):w.appendChild(Ze())}H&&je();var x=null,o=!1,y=aa(()=>{var u=r();return sa(u)?u:u==null?[]:Le(u)});ea(()=>{var u=t(y),b=u.length;if(o&&b===0)return;o=b===0;let h=!1;if(H){var E=f.data===ra;E!==(b===0)&&(f=Se(),le(f),ie(!1),h=!0)}if(H){for(var N=null,p,S=0;S<b;S++){if(P.nodeType===8&&P.data===ta){f=P,h=!0,ie(!1);break}var G=u[S],R=n(G,S);p=$e(P,m,N,null,G,R,S,s,a,r),m.items.set(R,p),N=p}b>0&&le(Se())}H||Ha(u,m,f,s,a,n,r),l!==null&&(b===0?x?He(x):x=Re(()=>l(f)):x!==null&&na(x,()=>{x=null})),h&&ie(!0),t(y)}),H&&(f=P)}function Ha(e,a,r,n,s,l,f){var m=e.length,w=a.items,x=a.first,o=x,y,u=null,b=[],h=[],E,N,p,S;for(S=0;S<m;S+=1){if(E=e[S],N=l(E,S),p=w.get(N),p===void 0){var G=o?o.e.nodes_start:r;u=$e(G,a,u,u===null?a.first:u.next,E,N,S,n,s,f),w.set(N,u),b=[],h=[],o=u.next;continue}if(Ra(p,E,S),(p.e.f&ue)!==0&&He(p.e),p!==o){if(y!==void 0&&y.has(p)){if(b.length<h.length){var R=h[0],M;u=R.prev;var J=b[0],D=b[b.length-1];for(M=0;M<b.length;M+=1)Ce(b[M],R,r);for(M=0;M<h.length;M+=1)y.delete(h[M]);O(a,J.prev,D.next),O(a,u,J),O(a,D,R),o=R,u=D,S-=1,b=[],h=[]}else y.delete(p),Ce(p,o,r),O(a,p.prev,p.next),O(a,p,u===null?a.first:u.next),O(a,u,p),u=p;continue}for(b=[],h=[];o!==null&&o.k!==N;)(o.e.f&ue)===0&&(y??(y=new Set)).add(o),h.push(o),o=o.next;if(o===null)continue;p=o}b.push(p),u=p,o=p.next}if(o!==null||y!==void 0){for(var $=y===void 0?[]:Le(y);o!==null;)(o.e.f&ue)===0&&$.push(o),o=o.next;var j=$.length;if(j>0){var i=m===0?r:null;Ca(a,$,i,w)}}ke.first=a.first&&a.first.e,ke.last=u&&u.e}function Ra(e,a,r,n){ua(e.v,a),e.i=r}function $e(e,a,r,n,s,l,f,m,w,x){var o=(w&_a)!==0,y=(w&da)===0,u=o?y?la(s):de(s):s,b=(w&ia)===0?f:de(f),h={i:b,v:u,k:l,a:null,e:null,prev:r,next:n};try{return h.e=Re(()=>m(e,u,b,x),H),h.e.prev=r&&r.e,h.e.next=n&&n.e,r===null?a.first=h:(r.next=h,r.e.next=h.e),n!==null&&(n.prev=h,n.e.prev=h.e),h}finally{}}function Ce(e,a,r){for(var n=e.next?e.next.e.nodes_start:r,s=a?a.e.nodes_start:r,l=e.e.nodes_start;l!==n;){var f=pa(l);s.before(l),l=f}}function O(e,a,r){a===null?e.first=r:(a.next=r,a.e.next=r&&r.e),r!==null&&(r.prev=a,r.e.prev=a&&a.e)}const La=Symbol("is custom element"),Oa=Symbol("is html");function fe(e){if(H){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var n=e.value;q(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var s=e.checked;q(e,"checked",null),e.checked=s}}};e.__on_r=r,ha(r),Ia()}}function q(e,a,r,n){var s=qa(e);H&&(s[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||s[a]!==(s[a]=r)&&(a==="loading"&&(e[ga]=r),r==null?e.removeAttribute(a):typeof r!="string"&&Ga(e).includes(a)?e[a]=r:e.setAttribute(a,r))}function qa(e){return e.__attributes??(e.__attributes={[La]:e.nodeName.includes("-"),[Oa]:e.namespaceURI===ba})}var Ue=new Map;function Ga(e){var a=Ue.get(e.nodeName);if(a)return a;Ue.set(e.nodeName,a=[]);for(var r,n=e,s=Element.prototype;s!==n;){r=xa(n);for(var l in r)r[l].set&&a.push(l);n=ma(n)}return a}function ve(e,a,r=a){var n=ya();De(e,"input",s=>{var l=s?e.defaultValue:e.value;if(l=ce(e)?_e(l):l,r(l),n&&l!==(l=a())){var f=e.selectionStart,m=e.selectionEnd;e.value=l??"",m!==null&&(e.selectionStart=f,e.selectionEnd=Math.min(m,e.value.length))}}),(H&&e.defaultValue!==e.value||Oe(a)==null&&e.value)&&r(ce(e)?_e(e.value):e.value),qe(()=>{var s=a();ce(e)&&s===_e(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function ce(e){var a=e.type;return a==="number"||a==="range"}function _e(e){return e===""?null:+e}function Ke(e,a,r){if(e.multiple)return $a(e,a);for(var n of e.options){var s=V(n);if(wa(s,a)){n.selected=!0;return}}(!r||a!==void 0)&&(e.selectedIndex=-1)}function Da(e,a){Ge(()=>{var r=new MutationObserver(()=>{var n=e.__value;Ke(e,n)});return r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function Wa(e,a,r=a){var n=!0;De(e,"change",s=>{var l=s?"[selected]":":checked",f;if(e.multiple)f=[].map.call(e.querySelectorAll(l),V);else{var m=e.querySelector(l)??e.querySelector("option:not([disabled])");f=m&&V(m)}r(f)}),Ge(()=>{var s=a();if(Ke(e,s,n),n&&s===void 0){var l=e.querySelector(":checked");l!==null&&(s=V(l),r(s))}e.__value=s,n=!1}),Da(e)}function $a(e,a){for(var r of e.options)r.selected=~a.indexOf(V(r))}function V(e){return"__value"in e?e.__value:e.value}function Ka(e){g(e,e.v+1)}function Pa(e){let a=0,r=de(0),n;return()=>{Ta()&&(t(r),qe(()=>(a===0&&(n=Oe(()=>e(()=>Ka(r)))),a+=1,()=>{Ea().then(()=>{a-=1,a===0&&(n==null||n(),n=void 0)})})))}}var Y,z;class Pe{constructor(a,r){te(this,Y);te(this,z);ne(this,Y,a),ne(this,z,Pa(r))}get current(){return re(this,z).call(this),re(this,Y).call(this)}}Y=new WeakMap,z=new WeakMap;const Va=new Pe(()=>window.innerWidth,e=>We(window,"resize",e)),Ya=new Pe(()=>window.innerHeight,e=>We(window,"resize",e));var za=async function(e,a,r,n,s,l,f){switch(t(a)){case"BUBBLE":await r(),n();break;case"MERGE":g(s,[...t(l)],!0),await f([...t(l)],0,t(l).length),n();break}},Ja=Xe('<rect stroke="gold" stroke-width="0.8px"></rect>'),Fa=Fe('<div class="flex w-screen grow items-center justify-around gap-8 px-4 py-2"><button class="w-full cursor-pointer rounded-sm border px-4 py-1 font-bold uppercase disabled:cursor-default">Sort</button> <label class="w-full"><p>Number of elements: <bold class="font-bold"> </bold></p> <input type="range" min="5" max="100" step="5" class="w-full cursor-pointer"></label> <label class="w-full"><p>Duration</p> <input class="w-full" type="number" min="10" step="5" max="3000"></label> <label class="w-full"><p>Max</p> <input class="w-full" type="number" min="10" step="5" max="3000"></label> <select><option>Bubblesort</option><option>Mergesort</option></select> <p class="flex gap-2">Steps: <span class="max-w-fit font-bold tabular-nums"> </span></p></div> <svg class="m-2"></svg>',1);function ar(e,a){Sa(a,!0);let r=I(100),n=I(500),s=I(10),l=I("MERGE"),f=I(0),m=I(0),w=I(void 0),x=I(0),o=I(0),y=I(0),u=I(Z([]));const b=()=>[...new Array(t(r))].map(()=>{const i=Math.max(Math.round(Math.random()*1e8)%t(n),1);return t(o)<i&&g(o,i,!0),i}),h=b();let E=I(Z(h)),N=I(Z([-1,-1])),p=I(!1),S=I(Z([]));Ie(function(){g(f,Ya.current,!0),g(m,Va.current,!0),t(w)&&t(f)&&g(x,t(f)-t(w).getBoundingClientRect().y)}),Ie(()=>{g(E,b(),!0)});function G(){g(y,0);const i=[...t(u)].reverse();let v=i.pop(),d=0;for(;v!=null;){const k=v;let T=d;setTimeout(()=>{oe(y);const{operation:c,index_b:_,index_a:C,value_a:F}=k;switch(c){case"CHECKING":g(N,[C,_],!0);break;case"SWAPPING":g(p,!0),g(N,[C,_],!0),setTimeout(()=>{oe(y);const K=t(E)[C];t(E)[C]=t(E)[_],t(E)[_]=K,setTimeout(()=>{g(p,!1)},t(s)*.5)},t(s)*.2);break;case"SUBSTITUTION":setTimeout(()=>{oe(y),t(E)[C]=F,setTimeout(()=>{},t(s)*.5)},t(s)*.2);break}},t(s)*(T+1)),v=i.pop(),d++}setTimeout(()=>{g(N,[-1,-1],!0)},t(s)*d+2),g(u,[],!0)}async function R(){const i=[...t(E)];for(let v=0;v<i.length-1;v++)for(let d=v+1;d<i.length;d++){const k=v,T=d;if(t(u).push({operation:"CHECKING",index_a:k,index_b:T,value_a:i[v],value_b:i[d]}),i[v]>i[d]){const c=i[k];i[k]=i[T],i[T]=c,t(u).push({operation:"SWAPPING",index_a:k,index_b:T,value_a:i[v],value_b:i[d]})}}}async function M(i,v,d){if(v>=d){const C=i[v];return C?[C]:[]}const k=Math.floor((v+d)/2),T=await M(i,v,k),c=await M(i,k+1,d);return await J(T,c,v,d)}async function J(i,v,d,k){const T=[];let c=0,_=0;for(;c<i.length&&_<v.length;)t(u).push({operation:"CHECKING",index_a:d+c,index_b:k-_,value_a:i[c],value_b:v[_]}),i[c]>v[_]?(t(u).push({operation:"SUBSTITUTION",index_a:d+c+_,index_b:d+c+_,value_a:v[_],value_b:v[_]}),T.push(v[_]),_++):(t(u).push({operation:"SUBSTITUTION",index_a:d+_+c,index_b:d+_+c,value_a:i[c],value_b:i[c]}),T.push(i[c]),c++);for(;c<i.length;)t(u).push({operation:"SUBSTITUTION",index_a:d+_+c,index_b:d+_+c,value_a:i[c],value_b:i[c]}),T.push(i[c]),c++;for(;_<v.length;)t(u).push({operation:"SUBSTITUTION",index_a:d+_+c,index_b:d+_+c,value_a:v[_],value_b:v[_]}),T.push(v[_]),_++;return T}var D=Je(),$=Ne(D);{var j=i=>{var v=Fa(),d=Ne(v),k=L(d);k.__click=[za,l,R,G,S,E,M];var T=A(k,2),c=L(T),_=A(L(c)),C=L(_,!0);U(_),U(c);var F=A(c,2);fe(F),U(T);var K=A(T,2),pe=A(L(K),2);fe(pe),U(K);var ee=A(K,2),he=A(L(ee),2);fe(he),U(ee);var X=A(ee,2),ae=L(X);ae.value=ae.__value="BUBBLE";var be=A(ae);be.value=be.__value="MERGE",U(X);var me=A(X,2),ge=A(L(me)),Ve=L(ge,!0);U(ge),U(me),U(d);var Q=A(d,2);Ua(Q,21,()=>t(E),Ba,(B,Ye,xe)=>{var W=Ja();const ye=Ae(()=>t(m)/t(r)),we=Ae(()=>t(x)/100*Math.floor(t(Ye)/t(o)*100));Me(ze=>{q(W,"width",`${t(ye)??""}px`),q(W,"y",`${t(x)-t(we)}px`),q(W,"x",`${t(ye)*xe+.1}px`),q(W,"height",`${t(we)}px`),q(W,"fill",ze)},[()=>t(N).includes(xe)?t(p)?"blue":"green":"black"]),se(B,W)}),U(Q),Aa(Q,B=>g(w,B),()=>t(w)),Me(()=>{k.disabled=t(s)<10,Be(C,t(r)),Be(Ve,t(y)),q(Q,"viewBox",`0 0 ${t(m)??""} ${t(x)??""}`)}),ve(F,()=>t(r),B=>g(r,B)),ve(pe,()=>t(s),B=>g(s,B)),ve(he,()=>t(n),B=>{g(o,0),g(n,B,!0)}),Wa(X,()=>t(l),B=>g(l,B)),se(i,v)};Ma($,i=>{i(j)})}se(e,D),ka()}Na(["click"]);export{ar as component};
