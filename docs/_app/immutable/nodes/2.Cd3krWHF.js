var Se=e=>{throw TypeError(e)};var Ee=(e,a,t)=>a.has(e)||Se("Cannot "+t);var re=(e,a,t)=>(Ee(e,a,"read from private field"),t?t.call(e):a.get(e)),se=(e,a,t)=>a.has(e)?Se("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(e):a.set(e,t),ie=(e,a,t,s)=>(Ee(e,a,"write to private field"),s?s.call(e,t):a.set(e,t),t);import{c as Xe,a as le,t as Ze,n as je}from"../chunks/CIrX0YnA.js";import{s as ue,h as H,w as ea,v as aa,d as ta,b as na,C as n,a7 as ra,e as sa,r as ke,f as oe,j as $,_ as ia,g as Oe,i as Re,p as la,a2 as Ge,W as ua,ac as oa,am as be,an as fe,y as Ne,ao as fa,ap as va,aq as ca,a1 as _a,ar as da,o as pa,as as ba,at as ha,Y as ma,au as ga,av as xa,aw as ya,ax as wa,ay as Ia,az as Ta,a as qe,m as Ke,k as Pe,aA as Sa,ab as y,aB as Ea,ak as ka,J as Na,aj as k,aa as j,u as Ae,t as Ce,L as Aa,M as O,O as A,N as B,K as Me,aC as ve,al as Ue}from"../chunks/r6qOVdxW.js";import{a as Ca,l as We,o as De,d as Ma,s as Be}from"../chunks/acNrIaOk.js";import{i as Ua,b as Ba}from"../chunks/Di7byUH0.js";function Ha(e,a){return a}function La(e,a,t,s){for(var i=[],l=a.length,d=0;d<l;d++)ca(a[d].e,i,!0);var h=l>0&&i.length===0&&t!==null;if(h){var T=t.parentNode;_a(T),T.append(t),s.clear(),R(e,a[0].prev,a[l-1].next)}da(i,()=>{for(var w=0;w<l;w++){var c=a[w];h||(s.delete(c.k),R(e,c.prev,c.next)),pa(c.e,!h)}})}function Oa(e,a,t,s,i,l=null){var d=e,h={flags:a,items:new Map,first:null};{var T=e;d=H?ue(ea(T)):T.appendChild(aa())}H&&ta();var w=null,c=!1,I=ra(()=>{var u=t();return ua(u)?u:u==null?[]:Ge(u)});na(()=>{var u=n(I),g=u.length;if(c&&g===0)return;c=g===0;let m=!1;if(H){var S=d.data===sa;S!==(g===0)&&(d=ke(),ue(d),oe(!1),m=!0)}if(H){for(var N=null,b,E=0;E<g;E++){if($.nodeType===8&&$.data===ia){d=$,m=!0,oe(!1);break}var K=u[E],L=s(K,E);b=$e($,h,N,null,K,L,E,i,a,t),h.items.set(L,b),N=b}g>0&&ue(ke())}H||Ra(u,h,d,i,a,s,t),l!==null&&(g===0?w?Oe(w):w=Re(()=>l(d)):w!==null&&la(w,()=>{w=null})),m&&oe(!0),n(I)}),H&&(d=$)}function Ra(e,a,t,s,i,l,d){var h=e.length,T=a.items,w=a.first,c=w,I,u=null,g=[],m=[],S,N,b,E;for(E=0;E<h;E+=1){if(S=e[E],N=l(S,E),b=T.get(N),b===void 0){var K=c?c.e.nodes_start:t;u=$e(K,a,u,u===null?a.first:u.next,S,N,E,s,i,d),T.set(N,u),g=[],m=[],c=u.next;continue}if(Ga(b,S,E),(b.e.f&fe)!==0&&Oe(b.e),b!==c){if(I!==void 0&&I.has(b)){if(g.length<m.length){var L=m[0],C;u=L.prev;var z=g[0],q=g[g.length-1];for(C=0;C<g.length;C+=1)He(g[C],L,t);for(C=0;C<m.length;C+=1)I.delete(m[C]);R(a,z.prev,q.next),R(a,u,z),R(a,q,L),c=L,u=q,E-=1,g=[],m=[]}else I.delete(b),He(b,c,t),R(a,b.prev,b.next),R(a,b,u===null?a.first:u.next),R(a,u,b),u=b;continue}for(g=[],m=[];c!==null&&c.k!==N;)(c.e.f&fe)===0&&(I??(I=new Set)).add(c),m.push(c),c=c.next;if(c===null)continue;b=c}g.push(b),u=b,c=b.next}if(c!==null||I!==void 0){for(var W=I===void 0?[]:Ge(I);c!==null;)(c.e.f&fe)===0&&W.push(c),c=c.next;var J=W.length;if(J>0){var ee=h===0?t:null;La(a,W,ee,T)}}Ne.first=a.first&&a.first.e,Ne.last=u&&u.e}function Ga(e,a,t,s){va(e.v,a),e.i=t}function $e(e,a,t,s,i,l,d,h,T,w){var c=(T&ba)!==0,I=(T&ha)===0,u=c?I?oa(i):be(i):i,g=(T&fa)===0?d:be(d),m={i:g,v:u,k:l,a:null,e:null,prev:t,next:s};try{return m.e=Re(()=>h(e,u,g,w),H),m.e.prev=t&&t.e,m.e.next=s&&s.e,t===null?a.first=m:(t.next=m,t.e.next=m.e),s!==null&&(s.prev=m,s.e.prev=m.e),m}finally{}}function He(e,a,t){for(var s=e.next?e.next.e.nodes_start:t,i=a?a.e.nodes_start:t,l=e.e.nodes_start;l!==s;){var d=ma(l);i.before(l),l=d}}function R(e,a,t){a===null?e.first=t:(a.next=t,a.e.next=t&&t.e),t!==null&&(t.prev=a,t.e.prev=a&&a.e)}const qa=Symbol("is custom element"),Ka=Symbol("is html");function ce(e){if(H){var a=!1,t=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var s=e.value;G(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var i=e.checked;G(e,"checked",null),e.checked=i}}};e.__on_r=t,ga(t),Ca()}}function G(e,a,t,s){var i=Pa(e);H&&(i[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||i[a]!==(i[a]=t)&&(a==="loading"&&(e[wa]=t),t==null?e.removeAttribute(a):typeof t!="string"&&Wa(e).includes(a)?e[a]=t:e.setAttribute(a,t))}function Pa(e){return e.__attributes??(e.__attributes={[qa]:e.nodeName.includes("-"),[Ka]:e.namespaceURI===xa})}var Le=new Map;function Wa(e){var a=Le.get(e.nodeName);if(a)return a;Le.set(e.nodeName,a=[]);for(var t,s=e,i=Element.prototype;i!==s;){t=Ia(s);for(var l in t)t[l].set&&a.push(l);s=ya(s)}return a}function _e(e,a,t=a){var s=Ta();We(e,"input",i=>{var l=i?e.defaultValue:e.value;if(l=de(e)?pe(l):l,t(l),s&&l!==(l=a())){var d=e.selectionStart,h=e.selectionEnd;e.value=l??"",h!==null&&(e.selectionStart=d,e.selectionEnd=Math.min(h,e.value.length))}}),(H&&e.defaultValue!==e.value||qe(a)==null&&e.value)&&t(de(e)?pe(e.value):e.value),Ke(()=>{var i=a();de(e)&&i===pe(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function de(e){var a=e.type;return a==="number"||a==="range"}function pe(e){return e===""?null:+e}function Ve(e,a,t){if(e.multiple)return Va(e,a);for(var s of e.options){var i=V(s);if(Sa(i,a)){s.selected=!0;return}}(!t||a!==void 0)&&(e.selectedIndex=-1)}function Da(e,a){Pe(()=>{var t=new MutationObserver(()=>{var s=e.__value;Ve(e,s)});return t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{t.disconnect()}})}function $a(e,a,t=a){var s=!0;We(e,"change",i=>{var l=i?"[selected]":":checked",d;if(e.multiple)d=[].map.call(e.querySelectorAll(l),V);else{var h=e.querySelector(l)??e.querySelector("option:not([disabled])");d=h&&V(h)}t(d)}),Pe(()=>{var i=a();if(Ve(e,i,s),s&&i===void 0){var l=e.querySelector(":checked");l!==null&&(i=V(l),t(i))}e.__value=i,s=!1}),Da(e)}function Va(e,a){for(var t of e.options)t.selected=~a.indexOf(V(t))}function V(e){return"__value"in e?e.__value:e.value}function Ya(e){y(e,e.v+1)}function Qa(e){let a=0,t=be(0),s;return()=>{Ea()&&(n(t),Ke(()=>(a===0&&(s=qe(()=>e(()=>Ya(t)))),a+=1,()=>{ka().then(()=>{a-=1,a===0&&(s==null||s(),s=void 0)})})))}}var Y,Q;class Ye{constructor(a,t){se(this,Y);se(this,Q);ie(this,Y,a),ie(this,Q,Qa(t))}get current(){return re(this,Q).call(this),re(this,Y).call(this)}}Y=new WeakMap,Q=new WeakMap;const za=new Ye(()=>window.innerWidth,e=>De(window,"resize",e)),Ja=new Ye(()=>window.innerHeight,e=>De(window,"resize",e));var Fa=async function(e,a,t,s,i,l,d,h){switch(n(a)){case"BUBBLE":await t(),s();break;case"MERGE":y(i,[...n(l)],!0),await d([...n(l)],0,n(l).length),s();break;case"QUICK":await h([...n(l)]),s();break}},Xa=je('<rect stroke="gold" stroke-width="0.8px"></rect>'),Za=Ze('<div class="flex w-screen grow items-center justify-around gap-8 px-4 py-2"><button class="w-full cursor-pointer rounded-sm border px-4 py-1 font-bold uppercase disabled:cursor-default">Sort</button> <label class="w-full"><p>Number of elements: <bold class="font-bold"> </bold></p> <input type="range" min="5" max="100" step="5" class="w-full cursor-pointer"></label> <label class="w-full"><p>Duration</p> <input class="w-full" type="number" min="10" step="5" max="3000"></label> <label class="w-full"><p>Max</p> <input class="w-full" type="number" min="10" step="5" max="500"></label> <select class="cursor-pointer [&amp;_*]:text-yellow-600"><option>Bubblesort</option><option>Mergesort</option><option>Quicksort</option></select> <p class="flex gap-2">Steps: <span class="max-w-fit font-bold tabular-nums"> </span></p></div> <svg class="m-2"></svg>',1);function rt(e,a){Na(a,!0);let t=k(100),s=k(500),i=k(10),l=k("QUICK"),d=k(0),h=k(0),T=k(void 0),w=k(0),c=k(0),I=k(0),u=k(j([]));const g=()=>[...new Array(n(t))].map(()=>{const r=Math.max(Math.round(Math.random()*1e8)%n(s),1);return n(c)<r&&y(c,r,!0),r}),m=g();let S=k(j(m)),N=k(j([-1,-1])),b=k(!1),E=k(j([]));Ae(function(){y(d,Ja.current,!0),y(h,za.current,!0),n(T)&&n(d)&&y(w,n(d)-n(T).getBoundingClientRect().y)}),Ae(()=>{y(S,g(),!0)});function K(){y(I,0);const r=[...n(u)].reverse();let v=r.pop(),f=0;for(;v!=null;){const x=v;let p=f;setTimeout(()=>{ve(I);const{operation:_,index_b:o,index_a:U,value_a:F}=x;switch(_){case"CHECKING":y(N,[U,o],!0);break;case"SWAPPING":y(b,!0),y(N,[U,o],!0),setTimeout(()=>{ve(I);const D=n(S)[U];n(S)[U]=n(S)[o],n(S)[o]=D,setTimeout(()=>{y(b,!1)},n(i)*.5)},n(i)*.2);break;case"SUBSTITUTION":setTimeout(()=>{ve(I),U!==void 0&&(n(S)[U]=F,setTimeout(()=>{},n(i)*.5))},n(i)*.2);break}},n(i)*(p+1)),v=r.pop(),f++}setTimeout(()=>{y(N,[-1,-1],!0)},n(i)*f+2),y(u,[],!0)}async function L(){const r=[...n(S)];for(let v=0;v<r.length-1;v++)for(let f=v+1;f<r.length;f++){const x=v,p=f;if(n(u).push({operation:"CHECKING",index_a:x,index_b:p,value_a:r[v],value_b:r[f]}),r[v]>r[f]){const _=r[x];r[x]=r[p],r[p]=_,n(u).push({operation:"SWAPPING",index_a:x,index_b:p,value_a:r[v],value_b:r[f]})}}}async function C(r,v,f){if(v>=f){const o=r[v];return o?[o]:[]}const x=Math.floor((v+f)/2),p=await C(r,v,x),_=await C(r,x+1,f);return await z(p,_,v,f)}async function z(r,v,f,x){const p=[];let _=0,o=0;for(;_<r.length&&o<v.length;)n(u).push({operation:"CHECKING",index_a:f+_,index_b:x-o,value_a:r[_],value_b:v[o]}),r[_]>v[o]?(n(u).push({operation:"SUBSTITUTION",index_a:f+_+o,index_b:f+_+o,value_a:v[o],value_b:v[o]}),p.push(v[o]),o++):(n(u).push({operation:"SUBSTITUTION",index_a:f+o+_,index_b:f+o+_,value_a:r[_],value_b:r[_]}),p.push(r[_]),_++);for(;_<r.length;)n(u).push({operation:"SUBSTITUTION",index_a:f+o+_,index_b:f+o+_,value_a:r[_],value_b:r[_]}),p.push(r[_]),_++;for(;o<v.length;)n(u).push({operation:"SUBSTITUTION",index_a:f+o+_,index_b:f+o+_,value_a:v[o],value_b:v[o]}),p.push(v[o]),o++;return p}async function q(r,v=0,f=r.length-1){if(v>=f||v<0)return;let x=await W(r,v,f);await q(r,v,x-1),await q(r,x+1,f)}async function W(r,v,f){const x=r[f];let p=v;n(u).push({operation:"CHECKING",index_a:f,index_b:-1,value_a:x,value_b:-1});for(let o=v;o<=f-1;o++)if(n(u).push({operation:"CHECKING",index_a:f,index_b:o,value_a:x,value_b:r[o]}),r[o]<=x){n(u).push({operation:"SWAPPING",index_a:p,index_b:o,value_a:r[p],value_b:r[o]});const U=r[o];r[o]=r[p],r[p]=U,p++}const _=r[f];return r[f]=r[p],r[p]=_,n(u).push({operation:"SWAPPING",index_a:f,index_b:p,value_a:x,value_b:r[p]}),p}var J=Xe(),ee=Ce(J);{var Qe=r=>{var v=Za(),f=Ce(v),x=O(f);x.__click=[Fa,l,L,K,E,S,C,q];var p=A(x,2),_=O(p),o=A(O(_)),U=O(o,!0);B(o),B(_);var F=A(_,2);ce(F),B(p);var D=A(p,2),he=A(O(D),2);ce(he),B(D);var ae=A(D,2),me=A(O(ae),2);ce(me),B(ae);var X=A(ae,2),te=O(X);te.value=te.__value="BUBBLE";var ne=A(te);ne.value=ne.__value="MERGE";var ge=A(ne);ge.value=ge.__value="QUICK",B(X);var xe=A(X,2),ye=A(O(xe)),ze=O(ye,!0);B(ye),B(xe),B(f);var Z=A(f,2);Oa(Z,21,()=>n(S),Ha,(M,Je,we)=>{var P=Xa();const Ie=Ue(()=>n(h)/n(t)),Te=Ue(()=>n(w)/100*Math.floor(n(Je)/n(c)*100));Me(Fe=>{G(P,"width",`${n(Ie)??""}px`),G(P,"y",`${n(w)-n(Te)}px`),G(P,"x",`${n(Ie)*we+.1}px`),G(P,"height",`${n(Te)}px`),G(P,"fill",Fe)},[()=>n(N).includes(we)?n(b)?"blue":"green":"black"]),le(M,P)}),B(Z),Ba(Z,M=>y(T,M),()=>n(T)),Me(()=>{x.disabled=n(i)<10||n(s)>500||n(s)<=0,Be(U,n(t)),Be(ze,n(I)),G(Z,"viewBox",`0 0 ${n(h)??""} ${n(w)??""}`)}),_e(F,()=>n(t),M=>y(t,M)),_e(he,()=>n(i),M=>y(i,M)),_e(me,()=>n(s),M=>{y(c,0),y(s,M,!0)}),$a(X,()=>n(l),M=>y(l,M)),le(r,v)};Ua(ee,r=>{r(Qe)})}le(e,J),Aa()}Ma(["click"]);export{rt as component};
