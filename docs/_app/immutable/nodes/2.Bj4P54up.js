var na=Object.defineProperty;var ra=(e,a,t)=>a in e?na(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t;var X=(e,a,t)=>ra(e,typeof a!="symbol"?a+"":a,t);import{t as sa,b as Ne,n as ua}from"../chunks/BML_hOHI.js";import{am as ia,s as ke,b as Ce,f as la,g as pe,B as oa,G as ca,o as oe,D as B,j as fa,p as _a,R as i,a7 as va,$ as da,a0 as Ae,n as ce,t as $,v as pa,a1 as Ke,C as Pe,a2 as ba,an as fe,z as De,ao as ha,ac as ma,ap as Me,aq as xa,ar as ya,y as ga,as as wa,K as Ia,at as Ta,au as Ea,k as Sa,i as Na,av as ka,aw as Ca,ax as Aa,ay as Ma,az as Ua,aA as Ba,u as qa,r as Ha,e as Qe,aB as La,E as Oa,aa as J,a as Ue,aj as g,L as Ra,Y as H,_ as w,X as Be,F as Ga,ab as o,aC as _e,Z as M,al as qe}from"../chunks/TjiKK7A6.js";import{d as Ka,s as He}from"../chunks/CU1Douru.js";import{b as Pa}from"../chunks/CF9_bGQT.js";let Le=!1;function We(){Le||(Le=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var a;if(!e.defaultPrevented)for(const t of e.target.elements)(a=t.__on_r)==null||a.call(t)})},{capture:!0}))}function Da(e,a,t,n=!0){n&&t();for(var r of a)e.addEventListener(r,t);ia(()=>{for(var u of a)e.removeEventListener(u,t)})}function $e(e){var a=la,t=pe;ke(null),Ce(null);try{return e()}finally{ke(a),Ce(t)}}function ze(e,a,t,n=t){e.addEventListener(a,()=>$e(t));const r=e.__on_r;r?e.__on_r=()=>{r(),n(!0)}:e.__on_r=()=>n(!0),We()}function Qa(e,a){return a}function Wa(e,a,t,n){for(var r=[],u=a.length,s=0;s<u;s++)ya(a[s].e,r,!0);var d=u>0&&r.length===0&&t!==null;if(d){var b=t.parentNode;ga(b),b.append(t),n.clear(),O(e,a[0].prev,a[u-1].next)}wa(r,()=>{for(var x=0;x<u;x++){var l=a[x];d||(n.delete(l.k),O(e,l.prev,l.next)),Ia(l.e,!d)}})}function $a(e,a,t,n,r,u=null){var s=e,d={flags:a,items:new Map,first:null};{var b=e;s=B?oe(fa(b)):b.appendChild(oa())}B&&_a();var x=null,l=!1,h=va(()=>{var c=t();return Na(c)?c:c==null?[]:De(c)});ca(()=>{var c=i(h),p=c.length;if(l&&p===0)return;l=p===0;let f=!1;if(B){var T=s.data===da;T!==(p===0)&&(s=Ae(),oe(s),ce(!1),f=!0)}if(B){for(var I=null,v,m=0;m<p;m++){if($.nodeType===8&&$.data===pa){s=$,f=!0,ce(!1);break}var C=c[m],E=n(C,m);v=Ve($,d,I,null,C,E,m,r,a,t),d.items.set(E,v),I=v}p>0&&oe(Ae())}B||za(c,d,s,r,a,n,t),u!==null&&(p===0?x?Ke(x):x=Pe(()=>u(s)):x!==null&&ba(x,()=>{x=null})),f&&ce(!0),i(h)}),B&&(s=$)}function za(e,a,t,n,r,u,s){var d=e.length,b=a.items,x=a.first,l=x,h,c=null,p=[],f=[],T,I,v,m;for(m=0;m<d;m+=1){if(T=e[m],I=u(T,m),v=b.get(I),v===void 0){var C=l?l.e.nodes_start:t;c=Ve(C,a,c,c===null?a.first:c.next,T,I,m,n,r,s),b.set(I,c),p=[],f=[],l=c.next;continue}if(Va(v,T,m),(v.e.f&fe)!==0&&Ke(v.e),v!==l){if(h!==void 0&&h.has(v)){if(p.length<f.length){var E=f[0],N;c=E.prev;var V=p[0],K=p[p.length-1];for(N=0;N<p.length;N+=1)Oe(p[N],E,t);for(N=0;N<f.length;N+=1)h.delete(f[N]);O(a,V.prev,K.next),O(a,c,V),O(a,K,E),l=E,c=K,m-=1,p=[],f=[]}else h.delete(v),Oe(v,l,t),O(a,v.prev,v.next),O(a,v,c===null?a.first:c.next),O(a,c,v),c=v;continue}for(p=[],f=[];l!==null&&l.k!==I;)(l.e.f&fe)===0&&(h??(h=new Set)).add(l),f.push(l),l=l.next;if(l===null)continue;v=l}p.push(v),c=v,l=v.next}if(l!==null||h!==void 0){for(var P=h===void 0?[]:De(h);l!==null;)(l.e.f&fe)===0&&P.push(l),l=l.next;var Q=P.length;if(Q>0){var D=d===0?t:null;Wa(a,P,D,b)}}pe.first=a.first&&a.first.e,pe.last=c&&c.e}function Va(e,a,t,n){ha(e.v,a),e.i=t}function Ve(e,a,t,n,r,u,s,d,b,x){var l=(b&Ta)!==0,h=(b&Ea)===0,c=l?h?ma(r):Me(r):r,p=(b&xa)===0?s:Me(s),f={i:p,v:c,k:u,a:null,e:null,prev:t,next:n};try{return f.e=Pe(()=>d(e,c,p,x),B),f.e.prev=t&&t.e,f.e.next=n&&n.e,t===null?a.first=f:(t.next=f,t.e.next=f.e),n!==null&&(n.prev=f,n.e.prev=f.e),f}finally{}}function Oe(e,a,t){for(var n=e.next?e.next.e.nodes_start:t,r=a?a.e.nodes_start:t,u=e.e.nodes_start;u!==n;){var s=Sa(u);r.before(u),u=s}}function O(e,a,t){a===null?e.first=t:(a.next=t,a.e.next=t&&t.e),t!==null&&(t.prev=a,t.e.prev=a&&a.e)}const Ya=Symbol("is custom element"),Fa=Symbol("is html");function Z(e){if(B){var a=!1,t=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var n=e.value;U(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var r=e.checked;U(e,"checked",null),e.checked=r}}};e.__on_r=t,ka(t),We()}}function U(e,a,t,n){var r=Xa(e);B&&(r[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||r[a]!==(r[a]=t)&&(a==="loading"&&(e[Ma]=t),t==null?e.removeAttribute(a):typeof t!="string"&&Ja(e).includes(a)?e[a]=t:e.setAttribute(a,t))}function Xa(e){return e.__attributes??(e.__attributes={[Ya]:e.nodeName.includes("-"),[Fa]:e.namespaceURI===Ca})}var Re=new Map;function Ja(e){var a=Re.get(e.nodeName);if(a)return a;Re.set(e.nodeName,a=[]);for(var t,n=e,r=Element.prototype;r!==n;){t=Ua(n);for(var u in t)t[u].set&&a.push(u);n=Aa(n)}return a}function j(e,a,t=a){var n=Ba();ze(e,"input",r=>{var u=r?e.defaultValue:e.value;if(u=ve(e)?de(u):u,t(u),n&&u!==(u=a())){var s=e.selectionStart,d=e.selectionEnd;e.value=u??"",d!==null&&(e.selectionStart=s,e.selectionEnd=Math.min(d,e.value.length))}}),(B&&e.defaultValue!==e.value||qa(a)==null&&e.value)&&t(ve(e)?de(e.value):e.value),Ha(()=>{var r=a();ve(e)&&r===de(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function ve(e){var a=e.type;return a==="number"||a==="range"}function de(e){return e===""?null:+e}function Ye(e,a,t){if(e.multiple)return et(e,a);for(var n of e.options){var r=z(n);if(La(r,a)){n.selected=!0;return}}(!t||a!==void 0)&&(e.selectedIndex=-1)}function Za(e,a){Qe(()=>{var t=new MutationObserver(()=>{var n=e.__value;Ye(e,n)});return t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{t.disconnect()}})}function ja(e,a,t=a){var n=!0;ze(e,"change",r=>{var u=r?"[selected]":":checked",s;if(e.multiple)s=[].map.call(e.querySelectorAll(u),z);else{var d=e.querySelector(u)??e.querySelector("option:not([disabled])");s=d&&z(d)}t(s)}),Qe(()=>{var r=a();if(Ye(e,r,n),n&&r===void 0){var u=e.querySelector(":checked");u!==null&&(r=z(u),t(r))}e.__value=r,n=!1}),Za(e)}function et(e,a){for(var t of e.options)t.selected=~a.indexOf(z(t))}function z(e){return"__value"in e?e.__value:e.value}function Ge(e,a){Da(window,["resize"],()=>$e(()=>a(window[e])))}class at{constructor(){X(this,"queue",[]);X(this,"push",a=>{this.queue.push(a)});X(this,"clear",()=>{this.queue=[]})}visual(){return this.queue.reverse()}}const y=new at;async function be(e,a,t){if(a>=t){const s=e[a];return s?[s]:[]}const n=Math.floor((a+t)/2),r=await be(e,a,n),u=await be(e,n+1,t);return await tt(r,u,a,t)}async function tt(e,a,t,n){const r=[];let u=0,s=0;for(;u<e.length&&s<a.length;)y.push({operation:"CHECKING",index_a:t+u,index_b:n-s,value_a:e[u],value_b:a[s]}),e[u]>a[s]?(y.push({operation:"SUBSTITUTION",index_a:t+u+s,index_b:t+u+s,value_a:a[s],value_b:a[s]}),r.push(a[s]),s++):(y.push({operation:"SUBSTITUTION",index_a:t+s+u,index_b:t+s+u,value_a:e[u],value_b:e[u]}),r.push(e[u]),u++);for(;u<e.length;)y.push({operation:"SUBSTITUTION",index_a:t+s+u,index_b:t+s+u,value_a:e[u],value_b:e[u]}),r.push(e[u]),u++;for(;s<a.length;)y.push({operation:"SUBSTITUTION",index_a:t+s+u,index_b:t+s+u,value_a:a[s],value_b:a[s]}),r.push(a[s]),s++;return r}async function nt(e){const a=[...e];for(let t=0;t<a.length-1;t++)for(let n=t+1;n<a.length;n++){const r=t,u=n;if(y.push({operation:"CHECKING",index_a:r,index_b:u,value_a:a[t],value_b:a[n]}),a[t]>a[n]){const s=a[r];a[r]=a[u],a[u]=s,y.push({operation:"SWAPPING",index_a:r,index_b:u,value_a:a[t],value_b:a[n]})}}}async function he(e,a=0,t=e.length-1){if(a>=t||a<0)return;let n=await rt(e,a,t);await he(e,a,n-1),await he(e,n+1,t)}async function rt(e,a,t){const n=e[t];let r=a;y.push({operation:"CHECKING",index_a:t,index_b:-1,value_a:n,value_b:-1});for(let s=a;s<=t-1;s++)if(y.push({operation:"CHECKING",index_a:t,index_b:s,value_a:n,value_b:e[s]}),e[s]<=n){if(s!==r){y.push({operation:"SWAPPING",index_a:r,index_b:s,value_a:e[r],value_b:e[s]});const d=e[s];e[s]=e[r],e[r]=d}r++}if(t===r)return r;const u=e[t];return e[t]=e[r],e[r]=u,y.push({operation:"SWAPPING",index_a:t,index_b:r,value_a:n,value_b:e[r]}),r}async function Fe(e,a=e.length-1){if(a<=0)return;Fe(e,a-1);const t=e[a];let n=a-1;for(y.push({operation:"CHECKING",index_a:n,index_b:a,value_a:e[n],value_b:t});n>=0&&e[n]>t;)y.push({operation:"CHECKING",index_a:n,index_b:a,value_a:e[n],value_b:t}),y.push({operation:"SUBSTITUTION",index_a:n+1,index_b:n+1,value_a:e[n],value_b:e[n]}),e[n+1]=e[n],n=n-1;y.push({operation:"SUBSTITUTION",index_a:n+1,index_b:n+1,value_a:t,value_b:t}),e[n+1]=t}var st=async function(e,a,t,n,r,u,s,d,b){if(i(a)){o(a,!1),y.clear(),t(),o(n,[-1,-1],!0),o(r,!1);return}switch(o(u,[...i(s)],!0),o(a,!0),i(d)){case"BUBBLE":await nt([...i(s)]);break;case"MERGE":await be([...i(s)],0,i(s).length);break;case"QUICK":await he([...i(s)]);break;case"INSERTION":await Fe([...i(s)]);break}await b()},ut=(e,a,t,n,r,u,s)=>{a(),o(t,i(n),!0),o(r,!1),o(u,[-1,-1],!0),o(s,!1)},it=e=>console.log(e),lt=ua('<rect stroke="blue"></rect>'),ot=sa('<div class="flex w-screen items-center justify-around gap-8 px-4 py-2"><button class="w-full cursor-pointer rounded-sm border bg-amber-200 px-4 py-1 font-bold uppercase disabled:cursor-default disabled:bg-transparent"> </button> <button class="w-full cursor-pointer rounded-sm border bg-red-300 px-4 py-1 text-sm font-bold uppercase disabled:cursor-default disabled:opacity-40">New Data</button> <button class="w-full cursor-pointer rounded-sm border bg-amber-300 px-4 py-1 text-sm font-bold uppercase disabled:cursor-default disabled:opacity-40">Unsort</button> <label class="min-w-64"><p class="flex items-center justify-between px-2"><span class="font-bold">Number of elements:</span> <input type="number" class="number_none col-span-3 w-[30%] border-none text-end align-text-bottom"></p> <input type="range" min="5" max="2000" step="5" class="w-full cursor-pointer bg-transparent"></label> <label class="flex w-full items-center"><p class="font-bold">Duration:</p> <input class="number_none max-w-[40%] border-none px-2 py-1 text-end" type="number" min="1" step="5" max="3000"></label> <label class="flex w-full items-center"><p class="font-bold">Max:</p> <input class="number_none max-w-[80%] border-none px-2 py-1 text-end" type="number" min="10" step="5" max="500"></label> <select class="cursor-pointer [&amp;_*]:text-yellow-600"><option>Bubblesort</option><option>Mergesort</option><option>Quicksort</option><option>Insertionsort</option></select> <p class="flex gap-2">Steps: <span class="max-w-fit font-bold tabular-nums"> </span></p></div> <svg></svg>',1);function pt(e,a){Oa(a,!0);let t=g(50),n=g(500),r=g(10),u=g("QUICK"),s=g(0),d=g(0),b=g(void 0),x=g(0),l=g(0),h=g(0),c=J([]);const p=_=>[...new Array(_)].map(()=>{const k=Math.max(Math.round(Math.random()*199999999)%i(n),1);return i(l)<k&&o(l,k,!0),k});Ue(()=>{const _=p(i(t));o(v,_,!0),o(f,_,!0)});let f=g(J([1])),T=g(J([-1,-1])),I=g(!1),v=g(J([])),m=g(!1),C=g(void 0);Ue(function(){o(C,new window.AudioContext,!0),i(b)&&i(s)&&o(x,i(s)-i(b).getBoundingClientRect().y)});function E(){for(let _ of c)clearTimeout(_);y.clear()}function N(){o(v,[],!0),o(T,[-1,-1],!0),o(I,!1),E(),o(f,p(i(t)),!0),o(m,!1),o(h,0)}async function V(){o(h,0);const _=y.visual();let k=_.pop(),q=1;for(;k!=null;){const R=k;let L=q;const A=setTimeout(()=>{_e(h);const{operation:Ze,index_b:W,index_a:G,value_a:je}=R;switch(Ze){case"CHECKING":o(T,[G,W],!0);const Se=le=>Math.floor(i(f)[le]/i(l)*100);K(Se(G),i(r)),K(Se(W),i(r));break;case"SWAPPING":o(I,!0),o(T,[G,W],!0);const ea=setTimeout(()=>{_e(h);const le=i(f)[G];i(f)[G]=i(f)[W],i(f)[W]=le;const ta=setTimeout(()=>{o(I,!1)},i(r)*.5);c.push(ta)},i(r)*.2);c.push(ea);break;case"SUBSTITUTION":const aa=setTimeout(()=>{_e(h),G!==void 0&&(i(f)[G]=je)},i(r)*.2);c.push(aa);break}},i(r)*L);c.push(A),k=_.pop(),q++}const S=setTimeout(()=>{o(m,!1),o(T,[-1,-1],!0),E()},i(r)*q+2);return c.push(S),()=>{E()}}function K(_,k=1e3){let q=120,S=1212;if(i(C)===void 0)return;const R=S/100*_+q;if(isNaN(R))return;let L=i(C).createGain();L.gain.value=.01;let A=i(C).createOscillator();return A.type="triangle",A.frequency.value=R,A.connect(L),L.connect(i(C).destination),A.start(),setTimeout(function(){A.stop()},k),()=>{A.stop()}}var P=ot(),Q=Ra(P),D=H(Q);D.__click=[st,m,E,T,I,v,f,u,V];var Xe=H(D,!0);M(D);var me=w(D,2);me.__click=N;var xe=w(me,2);xe.__click=[ut,E,f,v,I,T,m];var ee=w(xe,2),ae=H(ee),te=w(H(ae),2);Z(te),te.__keydown=[it],M(ae);var ye=w(ae,2);Z(ye),M(ee);var ne=w(ee,2),ge=w(H(ne),2);Z(ge),M(ne);var re=w(ne,2),we=w(H(re),2);Z(we),M(re);var Y=w(re,2),se=H(Y);se.value=se.__value="BUBBLE";var ue=w(se);ue.value=ue.__value="MERGE";var ie=w(ue);ie.value=ie.__value="QUICK";var Ie=w(ie);Ie.value=Ie.__value="INSERTION",M(Y);var Te=w(Y,2),Ee=w(H(Te)),Je=H(Ee,!0);M(Ee),M(Te),M(Q);var F=w(Q,2);$a(F,21,()=>i(f),Qa,(_,k,q)=>{var S=lt();const R=qe(()=>i(d)/i(t)),L=qe(()=>i(x)/100*Math.floor(i(k)/i(l)*100));U(S,"data-index",q),Be(A=>{U(S,"width",`${i(R)??""}px`),U(S,"y",`${i(x)-i(L)}px`),U(S,"x",i(R)*q+.1),U(S,"height",`${i(L)}px`),U(S,"stroke-width",i(t)>300?0:.2),U(S,"fill",A)},[()=>i(T).includes(q)?i(I)?"blue":"green":"black"]),Ne(_,S)}),M(F),Pa(F,_=>o(b,_),()=>i(b)),Be(()=>{He(Xe,i(m)?"Stop":"Sort"),He(Je,i(h)),U(F,"viewBox",`0 0 ${i(d)??""} ${i(x)??""}`)}),Ge("innerWidth",_=>o(d,_,!0)),Ge("innerHeight",_=>o(s,_,!0)),j(te,()=>i(t),_=>o(t,_)),j(ye,()=>i(t),_=>{o(t,_,!0),N()}),j(ge,()=>i(r),_=>{o(r,_,!0)}),j(we,()=>i(n),_=>{o(l,0),o(n,_,!0)}),ja(Y,()=>i(u),_=>o(u,_)),Ne(e,P),Ga()}Ka(["click","keydown"]);export{pt as component};
