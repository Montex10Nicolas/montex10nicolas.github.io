var ce=e=>{throw TypeError(e)};var ve=(e,a,r)=>a.has(e)||ce("Cannot "+r);var X=(e,a,r)=>(ve(e,a,"read from private field"),r?r.call(e):a.get(e)),F=(e,a,r)=>a.has(e)?ce("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(e):a.set(e,r),Q=(e,a,r,s)=>(ve(e,a,"write to private field"),s?s.call(e,r):a.set(e,r),r);import{c as He,a as Z,t as Ce,n as Re}from"../chunks/DPpYW2DX.js";import{s as j,h as M,w as Le,v as De,d as Oe,b as $e,C as t,a4 as Ve,e as Be,r as de,f as ee,j as Y,_ as We,g as ye,i as xe,p as Ye,a2 as Ee,W as Ue,a5 as qe,a6 as ie,a7 as ae,y as _e,a8 as ze,a9 as Je,aa as Ke,a1 as Pe,ab as Ge,o as Xe,ac as Fe,ad as Qe,Y as Ze,ae as je,af as ea,ag as aa,ah as ra,ai as ta,aj as sa,a as ke,m as Te,ak as p,al as na,am as la,J as ia,an as x,ao as re,u as he,t as pe,L as ua,M as V,O as H,N as D,K as me,ap as ge}from"../chunks/BMcppODb.js";import{a as oa,l as fa,o as Ae,d as ca,s as va}from"../chunks/B1v_rU7h.js";import{i as da,b as _a}from"../chunks/BUHggW85.js";function ha(e,a){return a}function pa(e,a,r,s){for(var i=[],u=a.length,f=0;f<u;f++)Ke(a[f].e,i,!0);var _=u>0&&i.length===0&&r!==null;if(_){var m=r.parentNode;Pe(m),m.append(r),s.clear(),C(e,a[0].prev,a[u-1].next)}Ge(i,()=>{for(var g=0;g<u;g++){var n=a[g];_||(s.delete(n.k),C(e,n.prev,n.next)),Xe(n.e,!_)}})}function ma(e,a,r,s,i,u=null){var f=e,_={flags:a,items:new Map,first:null};{var m=e;f=M?j(Le(m)):m.appendChild(De())}M&&Oe();var g=null,n=!1,v=Ve(()=>{var l=r();return Ue(l)?l:l==null?[]:Ee(l)});$e(()=>{var l=t(v),c=l.length;if(n&&c===0)return;n=c===0;let o=!1;if(M){var y=f.data===Be;y!==(c===0)&&(f=de(),j(f),ee(!1),o=!0)}if(M){for(var E=null,d,b=0;b<c;b++){if(Y.nodeType===8&&Y.data===We){f=Y,o=!0,ee(!1);break}var O=l[b],N=s(O,b);d=Me(Y,_,E,null,O,N,b,i,a,r),_.items.set(N,d),E=d}c>0&&j(de())}M||ga(l,_,f,i,a,s,r),u!==null&&(c===0?g?ye(g):g=xe(()=>u(f)):g!==null&&Ye(g,()=>{g=null})),o&&ee(!0),t(v)}),M&&(f=Y)}function ga(e,a,r,s,i,u,f){var _=e.length,m=a.items,g=a.first,n=g,v,l=null,c=[],o=[],y,E,d,b;for(b=0;b<_;b+=1){if(y=e[b],E=u(y,b),d=m.get(E),d===void 0){var O=n?n.e.nodes_start:r;l=Me(O,a,l,l===null?a.first:l.next,y,E,b,s,i,f),m.set(E,l),c=[],o=[],n=l.next;continue}if(ba(d,y,b),(d.e.f&ae)!==0&&ye(d.e),d!==n){if(v!==void 0&&v.has(d)){if(c.length<o.length){var N=o[0],h;l=N.prev;var I=c[0],k=c[c.length-1];for(h=0;h<c.length;h+=1)be(c[h],N,r);for(h=0;h<o.length;h+=1)v.delete(o[h]);C(a,I.prev,k.next),C(a,l,I),C(a,k,N),n=N,l=k,b-=1,c=[],o=[]}else v.delete(d),be(d,n,r),C(a,d.prev,d.next),C(a,d,l===null?a.first:l.next),C(a,l,d),l=d;continue}for(c=[],o=[];n!==null&&n.k!==E;)(n.e.f&ae)===0&&(v??(v=new Set)).add(n),o.push(n),n=n.next;if(n===null)continue;d=n}c.push(d),l=d,n=d.next}if(n!==null||v!==void 0){for(var w=v===void 0?[]:Ee(v);n!==null;)(n.e.f&ae)===0&&w.push(n),n=n.next;var T=w.length;if(T>0){var A=_===0?r:null;pa(a,w,A,m)}}_e.first=a.first&&a.first.e,_e.last=l&&l.e}function ba(e,a,r,s){Je(e.v,a),e.i=r}function Me(e,a,r,s,i,u,f,_,m,g){var n=(m&Fe)!==0,v=(m&Qe)===0,l=n?v?qe(i):ie(i):i,c=(m&ze)===0?f:ie(f),o={i:c,v:l,k:u,a:null,e:null,prev:r,next:s};try{return o.e=xe(()=>_(e,l,c,g),M),o.e.prev=r&&r.e,o.e.next=s&&s.e,r===null?a.first=o:(r.next=o,r.e.next=o.e),s!==null&&(s.prev=o,s.e.prev=o.e),o}finally{}}function be(e,a,r){for(var s=e.next?e.next.e.nodes_start:r,i=a?a.e.nodes_start:r,u=e.e.nodes_start;u!==s;){var f=Ze(u);i.before(u),u=f}}function C(e,a,r){a===null?e.first=r:(a.next=r,a.e.next=r&&r.e),r!==null&&(r.prev=a,r.e.prev=a&&a.e)}const wa=Symbol("is custom element"),ya=Symbol("is html");function te(e){if(M){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var s=e.value;R(e,"value",null),e.value=s}if(e.hasAttribute("checked")){var i=e.checked;R(e,"checked",null),e.checked=i}}};e.__on_r=r,je(r),oa()}}function R(e,a,r,s){var i=xa(e);M&&(i[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||i[a]!==(i[a]=r)&&(a==="loading"&&(e[ra]=r),r==null?e.removeAttribute(a):typeof r!="string"&&Ea(e).includes(a)?e[a]=r:e.setAttribute(a,r))}function xa(e){return e.__attributes??(e.__attributes={[wa]:e.nodeName.includes("-"),[ya]:e.namespaceURI===ea})}var we=new Map;function Ea(e){var a=we.get(e.nodeName);if(a)return a;we.set(e.nodeName,a=[]);for(var r,s=e,i=Element.prototype;i!==s;){r=ta(s);for(var u in r)r[u].set&&a.push(u);s=aa(s)}return a}function se(e,a,r=a){var s=sa();fa(e,"input",i=>{var u=i?e.defaultValue:e.value;if(u=ne(e)?le(u):u,r(u),s&&u!==(u=a())){var f=e.selectionStart,_=e.selectionEnd;e.value=u??"",_!==null&&(e.selectionStart=f,e.selectionEnd=Math.min(_,e.value.length))}}),(M&&e.defaultValue!==e.value||ke(a)==null&&e.value)&&r(ne(e)?le(e.value):e.value),Te(()=>{var i=a();ne(e)&&i===le(e.value)||e.type==="date"&&!i&&!e.value||i!==e.value&&(e.value=i??"")})}function ne(e){var a=e.type;return a==="number"||a==="range"}function le(e){return e===""?null:+e}function ka(e){p(e,e.v+1)}function Ta(e){let a=0,r=ie(0),s;return()=>{na()&&(t(r),Te(()=>(a===0&&(s=ke(()=>e(()=>ka(r)))),a+=1,()=>{la().then(()=>{a-=1,a===0&&(s==null||s(),s=void 0)})})))}}var U,q;class Ne{constructor(a,r){F(this,U);F(this,q);Q(this,U,a),Q(this,q,Ta(r))}get current(){return X(this,q).call(this),X(this,U).call(this)}}U=new WeakMap,q=new WeakMap;const Aa=new Ne(()=>window.innerWidth,e=>Ae(window,"resize",e)),Ma=new Ne(()=>window.innerHeight,e=>Ae(window,"resize",e));var Na=Re('<rect stroke="gold" stroke-width="0.8px"></rect>'),Sa=Ce('<div class="flex w-screen grow items-center justify-around gap-8 px-4 py-2"><button class="w-full cursor-pointer rounded-sm border px-4 py-1 font-bold uppercase disabled:cursor-default">Sort</button> <label class="w-full"><p>Number of elements: <bold class="font-bold"> </bold></p> <input type="range" min="5" max="100" step="5" class="w-full cursor-pointer"></label> <label class="w-full"><p>Duration</p> <input class="w-full" type="number" min="10" step="5" max="3000"></label> <label class="w-full"><p>Max</p> <input class="w-full" type="number" min="10" step="5" max="3000"></label></div> <svg class="m-2"></svg>',1);function Da(e,a){ia(a,!0);let r=x(10),s=x(100),i=x(0),u=x(0),f=x(void 0),_=x(0),m=x(0);const g=()=>[...new Array(t(r))].map(()=>{const h=Math.max(Math.round(Math.random()*1e8)%t(s),1);return t(m)<h&&p(m,h,!0),h}),n=g();let v=x(re(n)),l=x(re([-1,-1])),c=x(!1),o=x(re([])),y=x(100);he(function(){p(i,Ma.current,!0),p(u,Aa.current,!0),t(f)&&t(i)&&p(_,t(i)-t(f).getBoundingClientRect().y)}),he(()=>{p(v,g(),!0)});function E(){for(let h of t(o))clearTimeout(h);p(o,[],!0),p(l,[-1,-1],!0),p(c,!1)}function d(){E();let h=0;const I=Math.floor(t(y)/3)*2,k=(t(y)-I)/2;for(let w=0;w<t(v).length-1;w++)for(let T=w+1;T<t(v).length;T++){const A=w,L=T,G=++h,B=setTimeout(()=>{if(p(l,[A,L],!0),t(v)[w]>t(v)[T]){const W=setTimeout(()=>{p(l,[A,L],!0),p(c,!0);const z=setTimeout(()=>{const J=t(v)[A];t(v)[A]=t(v)[L],t(v)[L]=J,p(c,!1);const K=setTimeout(()=>{p(l,[-1,-1],!0)},k*.5);t(o).push(K)},k);t(o).push(z)},k*2);t(o).push(W)}},I*G);t(o).push(B)}}var b=He(),O=pe(b);{var N=h=>{var I=Sa(),k=pe(I),w=V(k);w.__click=d;var T=H(w,2),A=V(T),L=H(V(A)),G=V(L,!0);D(L),D(A);var B=H(A,2);te(B),B.__change=E,D(T);var W=H(T,2),z=H(V(W),2);te(z),D(W);var J=H(W,2),K=H(V(J),2);te(K),D(J),D(k);var P=H(k,2);ma(P,21,()=>t(v),ha,(S,Se,ue)=>{var $=Na();const oe=ge(()=>t(u)/t(r)),fe=ge(()=>t(_)/100*Math.floor(t(Se)/t(m)*100));me(Ie=>{R($,"width",`${t(oe)??""}px`),R($,"y",`${t(_)-t(fe)}px`),R($,"x",`${t(oe)*ue+.1}px`),R($,"height",`${t(fe)}px`),R($,"fill",Ie)},[()=>t(l).includes(ue)?t(c)?"blue":"green":"black"]),Z(S,$)}),D(P),_a(P,S=>p(f,S),()=>t(f)),me(()=>{w.disabled=t(y)<10,va(G,t(r)),R(P,"viewBox",`0 0 ${t(u)??""} ${t(_)??""}`)}),se(B,()=>t(r),S=>p(r,S)),se(z,()=>t(y),S=>p(y,S)),se(K,()=>t(s),S=>{p(m,0),p(s,S,!0)}),Z(h,I)};da(O,h=>{h(N)})}Z(e,b),ua()}ca(["click","change"]);export{Da as component};
