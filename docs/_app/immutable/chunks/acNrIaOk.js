import{P as E,Q as m,R as V,y as O,V as q,W as M,q as $,X as T,w as j,H as B,Y as C,Z as L,f as w,s as A,d as J,j as g,_ as Q,$ as X,a0 as Z,a1 as z,a2 as F,a3 as G,v as K,i as U,J as x,c as rr,h as R,L as tr}from"./r6qOVdxW.js";import{b as er}from"./CIrX0YnA.js";const ar=["touchstart","touchmove"];function nr(r){return ar.includes(r)}let D=!1;function sr(){D||(D=!0,document.addEventListener("reset",r=>{Promise.resolve().then(()=>{var t;if(!r.defaultPrevented)for(const e of r.target.elements)(t=e.__on_r)==null||t.call(e)})},{capture:!0}))}function k(r){var t=V,e=O;E(null),m(null);try{return r()}finally{E(t),m(e)}}function _r(r,t,e,s=e){r.addEventListener(t,()=>k(e));const n=r.__on_r;n?r.__on_r=()=>{n(),s(!0)}:r.__on_r=()=>s(!0),sr()}const H=new Set,S=new Set;function ir(r,t,e,s={}){function n(a){if(s.capture||p.call(t,a),!a.cancelBubble)return k(()=>e==null?void 0:e.call(this,a))}return r.startsWith("pointer")||r.startsWith("touch")||r==="wheel"?$(()=>{t.addEventListener(r,n,s)}):t.addEventListener(r,n,s),n}function cr(r,t,e,s={}){var n=ir(t,r,e,s);return()=>{r.removeEventListener(t,n,s)}}function lr(r){for(var t=0;t<r.length;t++)H.add(r[t]);for(var e of S)e(r)}function p(r){var P;var t=this,e=t.ownerDocument,s=r.type,n=((P=r.composedPath)==null?void 0:P.call(r))||[],a=n[0]||r.target,_=0,d=r.__root;if(d){var c=n.indexOf(d);if(c!==-1&&(t===document||t===window)){r.__root=t;return}var h=n.indexOf(t);if(h===-1)return;c<=h&&(_=c)}if(a=n[_]||r.target,a!==t){q(r,"currentTarget",{configurable:!0,get(){return a||e}});var b=V,u=O;E(null),m(null);try{for(var i,o=[];a!==null;){var f=a.assignedSlot||a.parentNode||a.host||null;try{var l=a["__"+s];if(l!=null&&(!a.disabled||r.target===a))if(M(l)){var[W,...Y]=l;W.apply(a,[r,...Y])}else l.call(a,r)}catch(y){i?o.push(y):i=y}if(r.cancelBubble||f===t||f===null)break;a=f}if(i){for(let y of o)queueMicrotask(()=>{throw y});throw i}}finally{r.__root=t,delete r.currentTarget,E(b),m(u)}}}function dr(r,t){var e=t==null?"":typeof t=="object"?t+"":t;e!==(r.__t??(r.__t=r.nodeValue))&&(r.__t=e,r.nodeValue=e+"")}function or(r,t){return I(r,t)}function hr(r,t){T(),t.intro=t.intro??!1;const e=t.target,s=R,n=g;try{for(var a=j(e);a&&(a.nodeType!==8||a.data!==B);)a=C(a);if(!a)throw L;w(!0),A(a),J();const _=I(r,{...t,anchor:a});if(g===null||g.nodeType!==8||g.data!==Q)throw X(),L;return w(!1),_}catch(_){if(_===L)return t.recover===!1&&Z(),T(),z(e),w(!1),or(r,t);throw _}finally{w(s),A(n)}}const v=new Map;function I(r,{target:t,anchor:e,props:s={},events:n,context:a,intro:_=!0}){T();var d=new Set,c=u=>{for(var i=0;i<u.length;i++){var o=u[i];if(!d.has(o)){d.add(o);var f=nr(o);t.addEventListener(o,p,{passive:f});var l=v.get(o);l===void 0?(document.addEventListener(o,p,{passive:f}),v.set(o,1)):v.set(o,l+1)}}};c(F(H)),S.add(c);var h=void 0,b=G(()=>{var u=e??t.appendChild(K());return U(()=>{if(a){x({});var i=rr;i.c=a}n&&(s.$$events=n),R&&er(u,null),h=r(u,s)||{},R&&(O.nodes_end=g),a&&tr()}),()=>{var f;for(var i of d){t.removeEventListener(i,p);var o=v.get(i);--o===0?(document.removeEventListener(i,p),v.delete(i)):v.set(i,o)}S.delete(c),u!==e&&((f=u.parentNode)==null||f.removeChild(u))}});return N.set(h,b),h}let N=new WeakMap;function vr(r,t){const e=N.get(r);return e?(N.delete(r),e(t)):Promise.resolve()}export{sr as a,lr as d,hr as h,_r as l,or as m,cr as o,dr as s,vr as u};
